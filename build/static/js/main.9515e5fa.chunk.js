(this.webpackJsonpshoppinglist=this.webpackJsonpshoppinglist||[]).push([[0],{147:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(15),c=a.n(o),r=a(19),l=a(232),s=a(122),d=a(112),u=a.n(d),m=a(113),g=a.n(m),j=Object(s.a)({palette:{primary:{main:u.a[500]},secondary:{main:g.a[500]}},typography:{h1:{fontSize:"2.4rem"},h2:{fontSize:"2.2rem"},h3:{fontSize:"2rem"},h4:{fontSize:"1.6rem"},h5:{fontSize:"1.3rem"},h6:{fontSize:"1rem"}}}),b=(a(147),a(12)),h=a(6),O=a(8),p=a(218),f=a(217),x=a(211),C=a(242),y=a(67),I=a(115),v=a.n(I),S=a(212),k=a(214),A=a(215),N=a(216),V=a(209),L=a(240),B=a(2),w=Object(V.a)((function(e){return Object(L.a)({menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"1.5rem"},drawer:{width:"180px",display:"flex",flexDirection:"column",fontSize:"1.3rem"},link:{textDecoration:"none",margin:e.spacing(2)},linkText:{fontSize:"20px"}})})),T=function(e){var t=w();return Object(B.jsxs)(x.a,{children:[localStorage.getItem("token")&&Object(B.jsx)(S.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu","aria-haspopup":"true",onClick:e.openDrawer,children:Object(B.jsx)(v.a,{})}),Object(B.jsx)(C.a,{open:e.drawerOpen,onClose:e.closeDrawer,children:Object(B.jsx)("nav",{className:t.drawer,children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(A.a,{color:"inherit",alignItems:"center",onClick:e.closeDrawer,children:Object(B.jsx)(r.b,{to:"/createlist",className:t.link,children:Object(B.jsx)(N.a,{primary:"Create a list",classes:{primary:t.linkText}})})}),Object(B.jsx)(A.a,{color:"inherit",alignItems:"center",onClick:e.closeDrawer,children:Object(B.jsx)(r.b,{to:"/useritems",className:t.link,children:Object(B.jsx)(N.a,{primary:"Edit Items",classes:{primary:t.linkText}})})}),Object(B.jsx)(A.a,{color:"inherit",alignItems:"center",onClick:e.closeDrawer,children:Object(B.jsx)(r.b,{to:"/mylists",className:t.link,children:Object(B.jsx)(N.a,{primary:"My lists",classes:{primary:t.linkText}})})})]})})}),Object(B.jsx)(y.a,{variant:"h1",className:t.title,color:"inherit",children:"Shopping"}),localStorage.getItem("token")?Object(B.jsx)(f.a,{color:"secondary",variant:"contained",onClick:e.logOut,children:"Log Out"}):Object(B.jsx)(f.a,{color:"secondary",variant:"contained",component:r.b,to:"/login",children:"Log In"})]})},z=Object(V.a)((function(e){return Object(L.a)({menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"2rem"},links:{marginRight:e.spacing(2)}})})),D=function(e){var t=z();return Object(B.jsxs)(x.a,{children:[Object(B.jsx)(y.a,{variant:"h1",className:t.title,color:"inherit",children:"Shopping"}),localStorage.getItem("token")&&Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(f.a,{color:"inherit",component:r.b,to:"/createlist",className:t.links,children:"Create a list"}),Object(B.jsx)(f.a,{color:"inherit",component:r.b,to:"/useritems",className:t.links,children:"Edit items"}),Object(B.jsx)(f.a,{color:"inherit",component:r.b,to:"/mylists",className:t.links,children:"My lists"})]}),localStorage.getItem("token")?Object(B.jsx)(f.a,{color:"secondary",variant:"contained",onClick:e.logOut,children:"Log Out"}):Object(B.jsx)(f.a,{color:"secondary",variant:"contained",component:r.b,to:"/login",children:"Log In"})]})},E={isAuth:!1,isLoading:!1,userId:null,token:null,username:null},M=function(e,t){switch(t.type){case"LOGIN_START":return Object(h.a)(Object(h.a)({},e),{},{isLoading:!0});case"LOGIN_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{isAuth:!0,userId:t.userId,token:t.token,username:t.username});case"LOGOUT":default:return E}},F=i.a.createContext({state:E,dispatch:function(){return null}}),P=function(e){var t=Object(n.useReducer)(M,E),a=Object(O.a)(t,2),i=a[0],o=a[1];return Object(B.jsx)(F.Provider,{value:{state:i,dispatch:o},children:e.children})},R=function(){var e=Object(n.useState)({mobileView:!1,drawerOpen:!1,redirectToLogin:!1}),t=Object(O.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(F),r=(c.state,c.dispatch,a.mobileView),l=a.drawerOpen;Object(n.useEffect)((function(){var e=function(){return window.innerWidth<900?o((function(e){return Object(h.a)(Object(h.a)({},e),{},{mobileView:!0})})):o((function(e){return Object(h.a)(Object(h.a)({},e),{},{mobileView:!1})}))};e(),window.addEventListener("resize",(function(){return e()}))}),[]);var s=function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),o(Object(h.a)(Object(h.a)({},a),{},{redirectToLogin:!0}))},d=null;return a.redirectToLogin&&(d=Object(B.jsx)(b.a,{to:"/login"})),Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(p.a,{color:"primary",position:"fixed",children:r?Object(B.jsx)(T,{openDrawer:function(){return o((function(e){return Object(h.a)(Object(h.a)({},e),{},{drawerOpen:!0})}))},closeDrawer:function(){return o((function(e){return Object(h.a)(Object(h.a)({},e),{},{drawerOpen:!1})}))},drawerOpen:l,logOut:s}):Object(B.jsx)(D,{logOut:s})}),d]})},W=function(e){return Object(B.jsxs)(n.Fragment,{children:[Object(B.jsx)(R,{}),Object(B.jsx)("main",{children:e.children})]})},H=a(219),U=a(116),G={url:{API_URL:"http://http://ec2-3-19-31-244.us-east-2.compute.amazonaws.com/api/"}},_=a.n(U).a.create({baseURL:G.url.API_URL}),q=Object(H.a)(),K=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),c=Object(O.a)(o,2),r=c[0],l=c[1],s=Object(n.useState)(null),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)([]),j=Object(O.a)(g,2),b=j[0],h=j[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){_.get("/categories/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){h(e.data)}))};return{submitItem:function(e){e.preventDefault(),function(e,t,a){_.post("/items/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")},name:e,category:t,lasts:""!==a?a:null}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(r,u,a)},handleCategoryChange:function(e,t){"string"===typeof t?setTimeout((function(){m({name:t})})):t&&t.inputValue?m({name:t.inputValue}):m(t)},handleNameChange:function(e){l(e.target.value)},handleItemLastsChange:function(e){i(e.target.value)},filterOptions:function(e,t){var a=q(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),a},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},itemName:r,category:u,categories:b,itemLasts:a}},X=a(220),J=a(233),Y=a(236),Q=Object(V.a)((function(e){return Object(L.a)({articleTitle:{marginTop:"100px"},addItemForm:{margin:e.spacing(4)},inputs:{marginTop:e.spacing(2)},addButton:{display:"block",marginTop:e.spacing(2)}})})),Z=function(){var e=Q(),t=K(),a=t.itemName,n=t.categories,i=t.category,o=t.itemLasts,c=t.handleNameChange,r=t.submitItem,l=t.handleCategoryChange,s=t.handleItemLastsChange,d=t.filterOptions,u=t.getOptionLabel;return Object(B.jsxs)(X.a,{component:"article",maxWidth:"md",children:[Object(B.jsx)(y.a,{variant:"h1",className:e.articleTitle,color:"primary",align:"center",children:"Add an item"}),Object(B.jsxs)("form",{className:e.addItemForm,onSubmit:r,children:[Object(B.jsx)(J.a,{required:!0,id:"item-name",label:"Item name",variant:"outlined",fullWidth:!0,value:a,onChange:c,className:e.inputs}),Object(B.jsx)(Y.a,{value:i,onChange:l,filterOptions:d,id:"category-autocomplete",options:n,getOptionLabel:u,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(t){return Object(B.jsx)(J.a,Object(h.a)(Object(h.a)({},t),{},{label:"category",variant:"outlined",className:e.inputs}))}}),Object(B.jsx)(J.a,{id:"item-name",label:"Lasts (days)",variant:"outlined",value:o,onChange:s,className:e.inputs}),Object(B.jsx)(f.a,{type:"submit",className:e.addButton,variant:"contained",color:"secondary",children:"Add"})]})]})},$=a(26),ee=function(){var e=Object(H.a)(),t=Object(n.useState)({name:"",items:[]}),a=Object(O.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([]),r=Object(O.a)(c,2),l=r[0],s=r[1],d=Object(n.useState)([]),u=Object(O.a)(d,2),m=u[0],g=u[1],j=Object(n.useState)({id:void 0,name:"",category:""}),b=Object(O.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)(!1),C=Object(O.a)(x,2),y=C[0],I=C[1],v=Object(n.useState)(null),S=Object(O.a)(v,2),k=S[0],A=S[1],N=Object(n.useState)([]),V=Object(O.a)(N,2),L=V[0],B=V[1],w=Object(n.useState)(!1),T=Object(O.a)(w,2),z=T[0],D=T[1],E=Object(n.useState)([]),M=Object(O.a)(E,2),F=M[0],P=M[1],R=Object(n.useState)(!1),W=Object(O.a)(R,2),U=W[0],G=W[1];Object(n.useEffect)((function(){q(localStorage.getItem("userId")),K(localStorage.getItem("userId")),X(localStorage.getItem("userId"))}),[localStorage.getItem("userId")]);var q=function(e){_.get("items/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(e.data)}))},K=function(e){_.get("categories/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))},X=function(e){_.get("items/suggestions/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){B(e.data)})).catch((function(e){console.log(e)}))},J=function(){f({name:"",category:""}),I(!1),A(null)},Y=function(){D(!0!==z)},Q=function(){G(!1)},Z=function(){_.post("/list",{list:i,userId:localStorage.getItem("userId")},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return{list:i,items:l,categories:m,suggestions:L,itemAddDialogValue:p,itemAddModalOpen:y,saveListDialogOpen:U,itemAutocompleteValue:k,toggleSuggestions:z,checkedSuggestions:F,handleAddItemModalClose:J,handleSaveListDialogClose:Q,handleSuggestionsVisible:Y,itemAutocompleteValueChange:function(e,t){if("string"===typeof t)setTimeout((function(){I(!0),f({name:t,category:""})}));else if(t&&t.inputValue)I(!0),f({id:t.id,name:t.inputValue,category:""});else{f({id:t.id,name:t.name,category:""});var a=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),[{name:t.name,id:t.id}])}),n=l.filter((function(e){return e.id!==t.id})),c=L.filter((function(e){return e.id!==t.id}));B(c),o(a),s(n)}},dialogNameChange:function(e){f(Object(h.a)(Object(h.a)({},p),{},{name:e.target.value,id:e.target.value.id}))},dialogCategoryChange:function(e,t){"string"===typeof t?setTimeout((function(){I(!0),f(Object(h.a)(Object(h.a)({},p),{},{category:t}))})):t&&t.inputValue?f(Object(h.a)(Object(h.a)({},p),{},{category:t.inputValue})):f(Object(h.a)(Object(h.a)({},p),{},{category:t}))},listNameChange:function(e){o(Object(h.a)(Object(h.a)({},i),{},{name:e.target.value}))},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},filterOptions:function(t,a){var n=e(t,a);return""!==a.inputValue&&n.push({inputValue:a.inputValue,name:'Add "'.concat(a.inputValue,'"'),id:a.id}),n},getItems:q,getCategories:K,removeListItem:function(e){var t=i.items.filter((function(t){return t.id!==e}));o(Object(h.a)(Object(h.a)({},i),{},{items:t})),q(localStorage.getItem("userId"))},addItem:function(e){e.preventDefault(),console.log(p.category),_.post("/items/"+localStorage.getItem("userId"),{itemId:null===k||void 0===k?void 0:k.id,name:p.name,category:p.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),[{name:p.name,id:e.data.id}])});o(t),J(),q(localStorage.getItem("userId")),K(localStorage.getItem("userId"))})).catch((function(e){console.log(e)}))},addFromSuggestions:function(){var e=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),Object($.a)(F))}),t=Object($.a)(L),a=Object($.a)(l);F.forEach((function(e){t=t.filter((function(t){return t.id!==e.id})),a=a.filter((function(t){return t.id!==e.id}))})),o(e),s(a),B(t),Y(),P([])},suggestionCheckHandler:function(e){var t=F.indexOf(e),a=Object($.a)(F);-1===t?a.push(e):a.splice(t,1),P(a)},saveListButtonPressed:function(){G(!0);var e="list"+String(Math.floor(1e4*Math.random()));o(Object(h.a)(Object(h.a)({},i),{},{name:e}))},saveListConfirm:function(e){e.preventDefault(),Z(),Q()},saveList:Z}},te=a(222),ae=a(223),ne=a(224),ie=a(225),oe=function(e){return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(Y.a,{value:e.itemAutocompleteValue,onChange:e.itemAutoCompleteValueChange,filterOptions:e.filterOptions,id:"add-item-autocomplete",options:e.itemOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,fullWidth:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(B.jsx)(J.a,Object(h.a)(Object(h.a)({},e),{},{label:"Search Item or add new",variant:"outlined"}))}}),Object(B.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-item-dialog-name",children:Object(B.jsxs)("form",{onSubmit:e.addItem,children:[Object(B.jsx)(ae.a,{id:"add-item-dialog-name",children:"Add a new item"}),Object(B.jsxs)(ne.a,{children:[Object(B.jsx)(J.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValues.name,onChange:e.dialogNameChange,label:"name",type:"text",variant:"outlined"}),Object(B.jsx)(Y.a,{value:e.categoryAutocompleteValue,onChange:e.dialogCategoryChange,onInputChange:e.onInputChange,filterOptions:e.filterOptions,id:"category-autocomplete",options:e.categoryOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(B.jsx)(J.a,Object(h.a)(Object(h.a)({},e),{},{label:"category",margin:"dense",variant:"outlined"}))}})]}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(B.jsx)(f.a,{type:"submit",color:"primary",children:"Add"})]})]})})]})},ce=a(226),re=a(237),le=a(125),se=a(227),de=Object(V.a)((function(e){return Object(L.a)({suggestionsBoxVisible:{display:"block",position:"fixed",top:"100px",left:"50px",right:50,bottom:100,zIndex:10,padding:e.spacing(1)},suggestionsBoxHidden:{display:"none"},suggestionItem:{cursor:"pointer"},buttonContainer:{boxSizing:"border-box",position:"absolute",width:"100%",bottom:0,left:0,margin:0,padding:e.spacing(1),borderTop:"1px black solid",zIndex:11},suggestionList:{maxHeight:400,overflow:"auto"}})})),ue=function(e){var t=de();return Object(B.jsxs)(le.a,{className:e.toggleSuggestions?t.suggestionsBoxVisible:t.suggestionsBoxHidden,elevation:4,component:"article",children:[Object(B.jsx)(k.a,{className:t.suggestionList,children:e.items.map((function(a){return Object(B.jsxs)(A.a,{className:t.suggestionItem,divider:!0,children:[Object(B.jsx)(N.a,{primary:a.name}),Object(B.jsx)(ce.a,{children:Object(B.jsx)(re.a,{edge:"end",onChange:function(){return e.suggestionCheckHandler(a)},checked:-1!==e.checkedSuggestions.indexOf(a)})})]},a.id)}))}),Object(B.jsxs)(se.a,{container:!0,justify:"space-evenly",spacing:2,className:t.buttonContainer,component:"footer",children:[Object(B.jsx)(se.a,{item:!0,children:Object(B.jsx)(f.a,{color:"primary",variant:"contained",onClick:e.toggleVisible,children:"Close"})}),Object(B.jsx)(se.a,{item:!0,children:Object(B.jsx)(f.a,{color:"secondary",variant:"contained",disabled:e.checkedSuggestions.length<1,onClick:e.addItems,children:"Add Items"})})]})]})},me=function(e){return Object(B.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"confirm-save-dialog",children:Object(B.jsxs)("form",{onSubmit:e.saveList,children:[Object(B.jsx)(ae.a,{id:"confirm-save-dialog",children:"Edit name"}),Object(B.jsx)(ne.a,{children:Object(B.jsx)(J.a,{autoFocus:!0,id:"list-name",onChange:e.nameChange,label:"List name",type:"text",variant:"outlined",value:e.nameValue})}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(B.jsx)(f.a,{type:"submit",color:"secondary",children:"Save"})]})]})})},ge=a(228),je=a(86),be=a.n(je),he=a(118),Oe=a.n(he),pe=Object(V.a)((function(e){return Object(L.a)({articleTitle:{margin:"0 0 20px 0"},container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundImage:'url("groceries1.jpg")',backgroundSize:"cover"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},inputSection:{boxSizing:"border-box",width:"100%",padding:"1rem",paddingTop:"2rem",marginTop:"70px",display:"flex",flexDirection:"column",alignItems:"center"},listPaper:{position:"relative",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(3),width:"100%",minHeight:"350px"},list:{marginBottom:"4rem"},suggestionButton:{margin:"5px auto"},saveButton:{position:"fixed",bottom:15,left:"50%",transform:"translateX(-50%)"},widescreenInputSection:{boxSizing:"border-box",width:"100%",padding:"3rem",marginTop:"120px",display:"flex",flexDirection:"column",alignItems:"center"},wideScreenSaveButton:{position:"absolute",width:"12rem",bottom:"15px",left:"50%",transform:"translateX(-50%)"}})})),fe=function(){var e=pe(),t=Object(ge.a)("(min-width:600px)"),a=ee(),n=a.list,o=a.items,c=a.categories,r=a.suggestions,l=a.itemAddDialogValue,s=a.itemAutocompleteValue,d=a.itemAddModalOpen,u=a.toggleSuggestions,m=a.checkedSuggestions,g=a.saveListDialogOpen,j=a.handleAddItemModalClose,b=a.handleSuggestionsVisible,h=a.handleSaveListDialogClose,O=a.itemAutocompleteValueChange,p=a.dialogNameChange,x=a.dialogCategoryChange,C=a.listNameChange,y=a.getOptionLabel,I=a.filterOptions,v=a.removeListItem,V=a.addItem,L=a.addFromSuggestions,w=a.suggestionCheckHandler,T=a.saveListButtonPressed,z=a.saveListConfirm,D=n.items.map((function(e){return Object(B.jsxs)(A.a,{divider:!0,children:[Object(B.jsx)(N.a,{primary:e.name}),Object(B.jsx)(ce.a,{children:Object(B.jsx)(S.a,{edge:"end",size:"small",color:"inherit",onClick:function(){return v(e.id)},children:Object(B.jsx)(be.a,{})})})]},e.id)})),E=Object(B.jsx)(f.a,{type:"button",color:"secondary",variant:"contained",size:"large",onClick:T,disabled:n.items.length<1,className:t?e.wideScreenSaveButton:e.saveButton,children:"Save list"}),M=Object(B.jsxs)(le.a,{className:e.listPaper,elevation:3,component:"section",children:[Object(B.jsx)(k.a,{className:e.list,children:D}),t&&E]});return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",className:e.container,children:[Object(B.jsx)("h1",{className:e.hiddenTitle,children:"Create a List!"}),Object(B.jsxs)(le.a,{className:t?e.widescreenInputSection:e.inputSection,elevation:3,component:"section",children:[Object(B.jsx)(oe,{itemAutocompleteValue:s,categoryAutocompleteValue:null===s||void 0===s?void 0:s.category,itemAutoCompleteValueChange:O,filterOptions:I,itemOptions:o,categoryOptions:c,getOptionLabel:y,dialogOpen:d,dialogClose:j,addItem:V,dialogValues:l,dialogNameChange:p,dialogCategoryChange:x}),Object(B.jsx)(f.a,{color:"secondary",className:e.suggestionButton,startIcon:Object(B.jsx)(Oe.a,{}),onClick:b,children:"Suggestions"})]}),M,Object(B.jsx)(ue,{items:r,toggleSuggestions:u,suggestionCheckHandler:w,checkedSuggestions:m,addItems:L,toggleVisible:b})]}),!t&&E,Object(B.jsx)(me,{dialogOpen:g,dialogClose:h,nameValue:n.name,nameChange:C,saveList:z})]})},xe=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),c=Object(O.a)(o,2),r=c[0],l=c[1],s=Object(n.useState)(""),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)(!1),j=Object(O.a)(g,2),b=j[0],h=j[1],p=Object(n.useState)(!1),f=Object(O.a)(p,2),x=f[0],C=f[1];return{username:a,password:r,errorMessage:u,alertOpen:b,loginRedirect:x,handleAlertClose:function(e,t){"clickaway"!==t&&h(!1)},handleUsernameChange:function(e){i(e.target.value)},handlePasswordChange:function(e){l(e.target.value)},submitForm:function(e){e.preventDefault(),function(e,t){_.post("/auth/login",{username:e,password:t}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId),localStorage.setItem("username",e.data.username),C(!0)})).catch((function(e){m(e.response.data.error),h(!0)}))}(a,r)}}},Ce=a(234),ye=a(239),Ie=a(238),ve=function(e){return Object(B.jsx)(Ie.a,Object(h.a)({elevation:6,variant:"filled"},e))},Se=Object(V.a)((function(e){return Object(L.a)({articleTitle:{marginTop:"100px"},logInForm:{margin:e.spacing(2)},inputs:{marginTop:e.spacing(4)},addButton:{display:"block",marginTop:e.spacing(4),marginLeft:"auto",marginRight:"auto"},registerContainer:{marginTop:e.spacing(8),textAlign:"center"},registerText:{marginBottom:e.spacing(1)}})})),ke=function(){var e=Se(),t=xe(),a=t.errorMessage,n=t.alertOpen,i=t.loginRedirect,o=t.handleAlertClose,c=t.handleUsernameChange,l=t.handlePasswordChange,s=t.submitForm;return Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(B.jsx)(y.a,{variant:"h1",className:e.articleTitle,color:"primary",align:"center",children:"Log In"}),Object(B.jsxs)("form",{className:e.logInForm,onSubmit:s,children:[Object(B.jsx)(J.a,{required:!0,id:"username",label:"Username",variant:"outlined",onChange:c,fullWidth:!0,className:e.inputs}),Object(B.jsx)(J.a,{required:!0,id:"password",label:"Password",type:"password",variant:"outlined",onChange:l,fullWidth:!0,className:e.inputs}),Object(B.jsx)(f.a,{type:"submit",className:e.addButton,variant:"contained",size:"large",color:"secondary",children:"Log In"})]}),Object(B.jsxs)(Ce.a,{component:"section",className:e.registerContainer,children:[Object(B.jsx)(y.a,{variant:"h5",component:"h2",className:e.registerText,color:"primary",align:"center",children:"New to the app?"}),Object(B.jsx)(f.a,{type:"button",color:"secondary",size:"large",component:r.b,to:"/register",children:"Sign Up Here"})]}),Object(B.jsx)(ye.a,{open:n,autoHideDuration:9e3,onClose:o,children:Object(B.jsx)(ve,{onClose:o,severity:"error",children:a})}),i?Object(B.jsx)(b.a,{to:"/createlist"}):null]})},Ae=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),c=Object(O.a)(o,2),r=c[0],l=c[1],s=Object(n.useState)(""),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)(""),j=Object(O.a)(g,2),b=j[0],h=j[1],p=Object(n.useState)(""),f=Object(O.a)(p,2),x=f[0],C=f[1],y=Object(n.useState)(!1),I=Object(O.a)(y,2),v=I[0],S=I[1],k=Object(n.useState)(!1),A=Object(O.a)(k,2),N=A[0],V=A[1],L=Object(n.useState)(!1),B=Object(O.a)(L,2),w=B[0];B[1];return{username:a,email:r,password:u,resultMessage:x,alertOpen:v,isError:N,successRedirect:w,handleAlertClose:function(e,t){"clickaway"!==t&&S(!1)},handleUsernameChange:function(e){i(e.target.value)},handleEmailChange:function(e){l(e.target.value)},handlePasswordChange:function(e){m(e.target.value)},handleRepeatPasswordChange:function(e){h(e.target.value)},submitForm:function(e){e.preventDefault(),function(e,t,a,n){a===n&&_.post("/auth/signup",{username:e,email:t,password:a,confirmPassword:n}).then((function(e){V(!1),S(!0),C(e.data.message)})).catch((function(e){V(!0),C(e.response.data.error),S(!0)}))}(a,r,u,b)}}},Ne=Object(V.a)((function(e){return Object(L.a)({articleTitle:{marginTop:"100px"},signUpForm:{margin:e.spacing(2)},inputs:{marginTop:e.spacing(4)},registerButton:{display:"block",marginTop:e.spacing(4),marginLeft:"auto",marginRight:"auto"},logInContainer:{marginTop:e.spacing(6),textAlign:"center"},logInText:{marginBottom:e.spacing(1)}})})),Ve=function(){var e=Ne(),t=Ae(),a=t.resultMessage,n=t.alertOpen,i=t.isError,o=t.successRedirect,c=t.handleAlertClose,l=t.handleUsernameChange,s=t.handleEmailChange,d=t.handlePasswordChange,u=t.handleRepeatPasswordChange,m=t.submitForm;return Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(B.jsx)(y.a,{variant:"h1",className:e.articleTitle,color:"primary",align:"center",children:"Sign Up"}),Object(B.jsxs)("form",{className:e.signUpForm,onSubmit:m,children:[Object(B.jsx)(J.a,{required:!0,id:"email",label:"e-mail",variant:"outlined",onChange:s,fullWidth:!0,className:e.inputs}),Object(B.jsx)(J.a,{required:!0,id:"username",label:"Username",variant:"outlined",onChange:l,fullWidth:!0,className:e.inputs}),Object(B.jsx)(J.a,{required:!0,id:"password",label:"Password",type:"password",variant:"outlined",onChange:d,fullWidth:!0,className:e.inputs}),Object(B.jsx)(J.a,{required:!0,id:"repeat-password",label:"Repeat password",type:"password",variant:"outlined",onChange:u,fullWidth:!0,className:e.inputs}),Object(B.jsx)(f.a,{type:"submit",className:e.registerButton,variant:"contained",size:"large",color:"secondary",children:"Register"})]}),Object(B.jsxs)(Ce.a,{component:"section",className:e.logInContainer,children:[Object(B.jsx)(y.a,{variant:"h5",component:"h2",className:e.logInText,color:"primary",align:"center",children:"Already a user?"}),Object(B.jsx)(f.a,{type:"button",color:"secondary",size:"large",component:r.b,to:"/login",children:"Log In"})]}),Object(B.jsx)(ye.a,{open:n,autoHideDuration:9e3,onClose:c,children:Object(B.jsx)(ve,{onClose:c,severity:i?"error":"success",children:a})}),o?Object(B.jsx)(b.a,{to:"/login"}):null]})},Le=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],i=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){_.get("/list/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))};return{myLists:a,deleteList:function(e){_.delete("/list/delete/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o()})).catch((function(e){console.log(e)}))}}},Be=a(87),we=a.n(Be),Te=Object(V.a)((function(e){return Object(L.a)({articleTitle:{margin:"100px 10px 40px 10px"},listTiles:{boxSizing:"border-box",display:"grid",gridColumnGap:"1rem",gridRowGap:"10%",gridTemplateColumns:"4fr 4fr 4fr 4fr",gridTemplateRows:"45% 45%",gridTemplateAreas:'\n                "name name date date"\n                "useListButton viewListButton . deleteButton"\n                ',justifyContent:"space-around",marginTop:e.spacing(2),padding:e.spacing(2),width:"100%",height:"8rem"},deleteButton:{gridArea:"deleteButton"},useListButton:{gridArea:"useListButton"},viewListButton:{gridArea:"viewListButton"},name:{gridArea:"name",textAlign:"left",paddingLeft:e.spacing(1)},date:{gridArea:"date"}})})),ze=function(e){var t=Te(),a=Le(),n=a.myLists,i=a.deleteList,o=n.map((function(a){var n;return Object(B.jsxs)(le.a,{className:t.listTiles,elevation:3,component:"section",children:[Object(B.jsx)(y.a,{variant:"h4",color:"secondary",align:"center",component:"h2",className:t.name,children:a.name}),Object(B.jsx)(y.a,{variant:"h5",color:"inherit",align:"center",component:"h3",className:t.date,children:null===(n=a.createdAt)||void 0===n?void 0:n.split("T")[0]}),Object(B.jsx)(S.a,{color:"inherit","aria-label":"delete-list",className:t.deleteButton,onClick:function(){return i(a.id)},children:Object(B.jsx)(we.a,{})}),Object(B.jsx)(f.a,{color:"primary",variant:"contained",className:t.useListButton,onClick:function(){return e.history.push({pathname:"/mylists/use/"+a.id})},children:"Shop"}),Object(B.jsx)(f.a,{color:"inherit",variant:"contained",className:t.viewListButton,onClick:function(){return e.history.push({pathname:"/mylists/edit/"+a.id})},children:"Edit"})]},a.id)}));return Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(B.jsx)(y.a,{variant:"h1",className:t.articleTitle,color:"primary",align:"center",children:"My lists"}),o]})},De=function(){var e=Object(H.a)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([]),r=Object(O.a)(c,2),l=r[0],s=r[1],d=Object(n.useState)([]),u=Object(O.a)(d,2),m=u[0],g=u[1],j=Object(n.useState)({name:"",category:""}),b=Object(O.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)([]),C=Object(O.a)(x,2),y=C[0],I=C[1],v=Object(n.useState)([]),S=Object(O.a)(v,2),k=S[0],A=S[1],N=Object(n.useState)(!1),V=Object(O.a)(N,2),L=V[0],B=V[1],w=Object(n.useState)(!1),T=Object(O.a)(w,2),z=T[0],D=T[1],E=Object(n.useState)(!1),M=Object(O.a)(E,2),F=M[0],P=M[1],R=Object(n.useState)(null),W=Object(O.a)(R,2),U=W[0],G=W[1],q=Object(n.useCallback)((function(e){_.get("/list/listdetails/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o(e.data),I(e.data.user_items)})).catch((function(e){console.log(e)}))}),[]),K=function(){_.get("/items/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))},X=function(){f({name:"",category:""}),D(!1),P(!1),G(null)},J=function(){B(!0)};return{listData:i,items:l,categories:m,itemAddDialogValue:p,itemAddModalOpen:z,listItems:y,pickedList:k,finishModalOpen:L,itemSearchOpen:F,itemAutocompleteValue:U,addItemTolist:function(e){e.preventDefault(),_.post("/list/add/"+i.id,{userId:localStorage.getItem("userId"),itemId:null===U||void 0===U?void 0:U.id,name:p.name,category:p.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=[].concat(Object($.a)(y),[{name:p.name,id:e.data.itemId}]);I(t),X()})).catch((function(e){console.log(e)}))},handleFinishModalOpen:J,handleFinishModalClose:function(){B(!1)},handleAddItemModalClose:X,openItemSearch:function(e){K(),_.get("categories/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){g(e.data)})).catch((function(e){console.log(e)})),P(!0)},itemAutoCompleteValueChange:function(e,t){"string"===typeof t?setTimeout((function(){D(!0),f({name:t,category:""})})):t&&t.inputValue?(D(!0),f({name:t.inputValue,category:""})):f({name:t.name,category:""})},dialogNameChange:function(e){f(Object(h.a)(Object(h.a)({},p),{},{name:e.target.value}))},dialogCategoryChange:function(e,t){"string"===typeof t?(D(!0),f(Object(h.a)(Object(h.a)({},p),{},{category:t}))):t&&t.inputValue?f(Object(h.a)(Object(h.a)({},p),{},{category:t.inputValue})):f(Object(h.a)(Object(h.a)({},p),{},{category:t}))},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},filterOptions:function(t,a){var n=e(t,a);return""!==a.inputValue&&n.push({inputValue:a.inputValue,name:'Add "'.concat(a.inputValue,'"')}),n},itemCheckClicked:function(e){var t=null===y||void 0===y?void 0:y.filter((function(t){return t.id!==e}));I(t),t.length<1&&J();var a=y.find((function(t){return t.id===e})),n=[].concat(Object($.a)(k),[a]);A(n)},itemCheckUndo:function(e){var t=k.filter((function(t){return t.id!==e})),a=k.find((function(t){return t.id===e}));A(t);var n=[].concat(Object($.a)(y),[a]);I(n)},getItems:K,getList:q,listPickingFinished:function(){_.post("/items/bought/"+localStorage.getItem("userId"),{items:k},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),B(!1)}}},Ee=Object(V.a)((function(e){return Object(L.a)({})})),Me=function(e){Ee();return Object(B.jsxs)(te.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"finish-dialog",children:[Object(B.jsx)(ae.a,{id:"finish-dialog",children:"Mark shopping complete?"}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.handleClose,color:"primary",children:"No, I forgot something"}),Object(B.jsx)(f.a,{onClick:e.handleFinished,color:"secondary",autoFocus:!0,children:"Yes"})]})]})},Fe=a(229),Pe=a(119),Re=a.n(Pe),We=a(88),He=a.n(We),Ue=a(120),Ge=a.n(Ue),_e=Object(V.a)((function(e){return Object(L.a)({})})),qe=function(e){_e();return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsxs)(te.a,{open:e.itemSearchOpen,fullWidth:!0,onClose:e.handleItemSearchClose,"aria-labelledby":"add-item-search",children:[Object(B.jsx)(ne.a,{children:Object(B.jsx)(Y.a,{value:e.itemAutocompleteValue,onChange:e.autoCompleteValueChange,filterOptions:e.filterOptions,id:"add-item-autocomplete",options:e.itemOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(B.jsx)(J.a,Object(h.a)(Object(h.a)({},e),{},{label:"Search Item or add new",variant:"outlined"}))}})}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.handleItemSearchClose,color:"primary",children:"Cancel"}),Object(B.jsx)(f.a,{type:"submit",color:"primary",onClick:e.addItem,children:"Add"})]})]}),Object(B.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-item-dialog-name",children:Object(B.jsxs)("form",{onSubmit:e.addItem,children:[Object(B.jsx)(ae.a,{id:"add-item-dialog-name",children:"Add a new item"}),Object(B.jsxs)(ne.a,{children:[Object(B.jsx)(J.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValues.name,onChange:e.dialogNameChange,label:"name",type:"text",variant:"outlined"}),Object(B.jsx)(Y.a,{value:e.categoryAutocompleteValue,onChange:e.dialogCategoryChange,filterOptions:e.filterOptions,id:"category-autocomplete",options:e.categoryOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(B.jsx)(J.a,Object(h.a)(Object(h.a)({},e),{},{label:"category",margin:"dense",variant:"outlined"}))}})]}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(B.jsx)(f.a,{type:"submit",color:"primary",children:"Add"})]})]})})]})},Ke=Object(V.a)((function(e){return Object(L.a)({articleTitle:{marginBottom:"1.5rem"},listPaper:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly",marginTop:e.spacing(10),padding:e.spacing(3),width:"100%"},pickedList:{marginTop:e.spacing(4)},listItem:{flexGrow:1},pickedListItem:{textDecoration:"line-through"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},addButton:{position:"fixed",left:"50%",right:"50%",bottom:e.spacing(2),transform:"translateX(-50%)"}})})),Xe=function(e){var t=Ke(),a=De(),o=a.listData,c=a.items,r=a.categories,l=a.itemAddDialogValue,s=a.itemAddModalOpen,d=a.itemAutocompleteValue,u=a.listItems,m=a.pickedList,g=a.finishModalOpen,j=a.itemSearchOpen,b=a.addItemTolist,h=a.handleFinishModalClose,O=a.handleAddItemModalClose,p=a.openItemSearch,f=a.dialogNameChange,x=a.dialogCategoryChange,C=a.itemCheckUndo,I=a.getOptionLabel,v=a.itemCheckClicked,V=a.getList,L=a.itemAutoCompleteValueChange,w=a.filterOptions,T=a.listPickingFinished;Object(n.useEffect)((function(){V(e.match.params.listId)}),[e.match.params.listId]);var z=u.map((function(e){return Object(B.jsxs)(A.a,{className:t.listItem,divider:!0,children:[Object(B.jsx)(N.a,{primary:e.name}),Object(B.jsx)(ce.a,{children:Object(B.jsx)(S.a,{edge:"end",size:"small",color:"secondary",onClick:function(){return v(e.id)},children:Object(B.jsx)(Re.a,{})})})]},e.id)})),D=m.map((function(e){return Object(B.jsxs)(A.a,{className:t.pickedListItem,divider:!0,children:[Object(B.jsx)(N.a,{primary:e.name}),Object(B.jsx)(ce.a,{children:Object(B.jsx)(S.a,{edge:"end",size:"small",color:"inherit",onClick:function(){return C(e.id)},children:Object(B.jsx)(Ge.a,{})})})]},e.id)}));return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(B.jsx)("h1",{className:t.hiddenTitle,children:"Shopping ".concat(o.name)}),Object(B.jsxs)(le.a,{className:t.listPaper,elevation:3,component:"section",children:[Object(B.jsx)(y.a,{variant:"h4",component:"h2",className:t.articleTitle,color:"primary",align:"center",children:o.name}),Object(B.jsx)(k.a,{children:z}),Object(B.jsx)(k.a,{className:t.pickedList,children:D.reverse()})]})]}),Object(B.jsx)(Me,{open:g,handleClose:h,handleFinished:T}),Object(B.jsx)(Fe.a,{color:"secondary","aria-label":"add-items-to-list",className:t.addButton,onClick:p,children:Object(B.jsx)(He.a,{})}),Object(B.jsx)(qe,{addItem:b,openItemSearch:p,itemSearchOpen:j,handleItemSearchClose:O,itemAutocompleteValue:d,categoryAutocompleteValue:l.category,autoCompleteValueChange:L,filterOptions:w,itemOptions:c,categoryOptions:r,getOptionLabel:I,dialogOpen:s,dialogClose:O,dialogValues:l,dialogNameChange:f,dialogCategoryChange:x})]})},Je=a(235),Ye=a(231),Qe=a(123),Ze=a(121),$e=a.n(Ze),et=a(230),tt=Object(V.a)((function(e){return Object(L.a)({itemsList:{},listItem:{marginBottom:"0.5rem"},iconButtons:{marginLeft:e.spacing(2)},addButton:{position:"fixed",left:"50%",right:"50%",bottom:e.spacing(2),transform:"translateX(-50%)"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}})})),at=function(e){var t=tt(),a=(e.children,e.value),n=e.index,o=e.content,c=e.deleteElement,r=e.isItem,l=e.editElement,s=e.addButtonPressed,d=e.deleteButtonPressed,u=e.elementToDelete,m=e.deleteModalOpen,g=e.deleteModalClose,j=e.name,b=Object(Qe.a)(e,["children","value","index","content","deleteElement","isItem","editElement","addButtonPressed","deleteButtonPressed","elementToDelete","deleteModalOpen","deleteModalClose","name"]);return Object(B.jsx)("section",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"".concat(j," Tab"),"aria-labelledby":j},b),{},{children:a===n&&Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)("h2",{className:t.hiddenTitle,children:j}),Object(B.jsx)(k.a,{className:t.itemsList,children:o.map((function(e){return Object(B.jsxs)(A.a,{className:t.listItem,divider:!0,children:[Object(B.jsx)(N.a,{primary:e.name}),Object(B.jsxs)(ce.a,{children:[Object(B.jsx)(S.a,{edge:"end",size:"small",color:"inherit",className:t.iconButtons,onClick:function(){return l(e)},children:Object(B.jsx)($e.a,{})}),Object(B.jsx)(S.a,{edge:"end",size:"small",color:"inherit",className:t.iconButtons,onClick:function(){return d(e)},children:Object(B.jsx)(we.a,{})})]})]},e.id)}))}),Object(B.jsxs)(te.a,{open:m,onClose:g,children:[Object(B.jsx)(ae.a,{id:"confirm-delete",children:"Delete item?"}),Object(B.jsx)(ne.a,{children:Object(B.jsx)(et.a,{children:"Are you sure you want to delete ".concat(r?"item ":"category "," - ").concat(u?u.name:null," ?")})}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{color:"primary",onClick:g,children:"Cancel"}),Object(B.jsx)(f.a,{color:"primary",onClick:function(){return c(r)},children:"Yes"})]})]}),Object(B.jsx)(Fe.a,{color:"secondary","aria-label":"add-".concat(r?"item":"category"),className:t.addButton,onClick:s,children:Object(B.jsx)(He.a,{})})]})}))},nt=Object(V.a)((function(e){return Object(L.a)({})})),it=function(e){nt();return Object(B.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-item-dialog-name",children:Object(B.jsxs)("form",{onSubmit:e.confirmEdit,children:[Object(B.jsx)(ae.a,{id:"add-item-dialog-name",children:"Edit item"}),Object(B.jsxs)(ne.a,{children:[Object(B.jsx)(J.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValues.name,onChange:e.itemNameChange,label:"name",type:"text",variant:"outlined"}),Object(B.jsx)(Y.a,{value:e.categoryAutocompleteValue,onChange:e.dialogCategoryChange,filterOptions:e.filterOptions,id:"category-autocomplete",options:e.categoryOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(B.jsx)(J.a,Object(h.a)(Object(h.a)({},e),{},{label:"category",margin:"dense",variant:"outlined"}))}})]}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(B.jsx)(f.a,{type:"submit",color:"primary",children:"Save"})]})]})})},ot=Object(V.a)((function(e){return Object(L.a)({})})),ct=function(e){ot();return Object(B.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"edit-category-dialog",children:Object(B.jsxs)("form",{onSubmit:e.confirmEdit,children:[Object(B.jsx)(ae.a,{id:"edit-category-dialog",children:"Edit item"}),Object(B.jsx)(ne.a,{children:Object(B.jsx)(J.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValue,onChange:e.nameChange,label:"name",type:"text",variant:"outlined"})}),Object(B.jsxs)(ie.a,{children:[Object(B.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(B.jsx)(f.a,{type:"submit",color:"primary",children:"Save"})]})]})})},rt=function(){var e=Object(n.useState)(0),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)([]),c=Object(O.a)(o,2),r=c[0],l=c[1],s=Object(n.useState)([]),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)({name:"",category:{}}),j=Object(O.a)(g,2),b=j[0],p=j[1],f=Object(n.useState)(""),x=Object(O.a)(f,2),C=x[0],y=x[1],I=Object(n.useState)(!1),v=Object(O.a)(I,2),S=v[0],k=v[1],A=Object(n.useState)(!1),N=Object(O.a)(A,2),V=N[0],L=N[1],B=Object(n.useState)(null),w=Object(O.a)(B,2),T=w[0],z=w[1],D=Object(n.useState)(null),E=Object(O.a)(D,2),M=E[0],F=E[1],P=Object(n.useState)(null),R=Object(O.a)(P,2),W=R[0],U=R[1],G=Object(n.useState)(!1),q=Object(O.a)(G,2),K=q[0],X=q[1],J=Object(H.a)();Object(n.useEffect)((function(){Y(localStorage.getItem("userId")),Q(localStorage.getItem("userId"))}),[localStorage.getItem("userId")]);var Y=function(e){_.get("/items/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){l(e.data)}))},Q=function(e){_.get("/categories/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))},Z=function(){p({name:"",category:""}),z(null),k(!1)},$=function(){y(""),F(null),L(!1)},ee=function(){X(!1),U(null)};return{items:r,categories:u,elementToDelete:W,tabValue:a,editItemDialogValue:b,editCategoryDialogValue:C,editItemModalOpen:S,editCategoryModalOpen:V,deleteModalOpen:K,handleItemEditModalClose:Z,handleCategoryEditModalClose:$,handleDeleteModalClose:ee,addItemButtonPressed:function(){k(!0)},addCategoryButtonPressed:function(){L(!0)},deleteButtonPressed:function(e){X(!0),U(e)},editItemButtonPressed:function(e){z(e);var t=u.find((function(t){return t.id===e.userCategoryId}));p({name:e.name,category:t}),k(!0)},editCategoryButtonPressed:function(e){F(e),y(e.name),L(!0)},handleTabChange:function(e,t){i(t)},editDialogNameChange:function(e){p(Object(h.a)(Object(h.a)({},b),{},{name:e.target.value}))},editItemDialogCategoryChange:function(e,t){"string"===typeof t?(k(!0),p(Object(h.a)(Object(h.a)({},b),{},{category:t}))):t&&t.inputValue?p(Object(h.a)(Object(h.a)({},b),{},{category:t.inputValue})):p(Object(h.a)(Object(h.a)({},b),{},{category:t}))},editCategoryNameChange:function(e){y(e.target.value)},filterAutocompleteOptions:function(e,t){var a=J(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),a},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},saveItemEdit:function(e){e.preventDefault(),T?_.put("/items/"+T.id,{userId:localStorage.getItem("userId"),newName:b.name,category:b.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){Y(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})):_.post("/items/"+localStorage.getItem("userId"),{name:b.name,category:b.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){Y(localStorage.getItem("userId")),Q(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})),Z()},saveCategoryEdit:function(e){e.preventDefault(),M?_.put("/categories/"+M.id+"?userId="+localStorage.getItem("userId"),{newCategoryName:C},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){Q(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})):_.post("/categories/"+localStorage.getItem("userId"),{name:C},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){Q(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})),$()},deleteElement:function(e){var t=e?"/items/":"/categories/";_.delete(t+W.id+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e?Y(localStorage.getItem("userId")):Q(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})),ee()}}},lt=Object(V.a)((function(e){return Object(L.a)({container:{},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},tabs:{marginTop:70}})})),st=function(){var e=lt(),t=rt(),a=t.items,n=t.categories,i=t.tabValue,o=t.editItemModalOpen,c=t.editCategoryModalOpen,r=t.deleteModalOpen,l=t.elementToDelete,s=t.editItemDialogValue,d=t.editCategoryDialogValue,u=t.addItemButtonPressed,m=t.addCategoryButtonPressed,g=t.deleteButtonPressed,j=t.saveItemEdit,b=t.saveCategoryEdit,h=t.editDialogNameChange,O=t.editItemDialogCategoryChange,p=t.editCategoryNameChange,f=t.filterAutocompleteOptions,x=t.getOptionLabel,C=t.editItemButtonPressed,y=t.editCategoryButtonPressed,I=t.handleItemEditModalClose,v=t.handleCategoryEditModalClose,S=t.handleDeleteModalClose,k=t.handleTabChange,A=t.deleteElement;return Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",className:e.container,children:[Object(B.jsx)("h1",{className:e.hiddenTitle,children:"Edit items and categories"}),Object(B.jsxs)(Je.a,{value:i,variant:"fullWidth","aria-label":"user-items-navigation-tabs",className:e.tabs,onChange:k,children:[Object(B.jsx)(Ye.a,{label:"Items"}),Object(B.jsx)(Ye.a,{label:"Categories"}),Object(B.jsx)(Ye.a,{label:"Recipes",disabled:!0})]}),Object(B.jsx)(at,{value:i,name:"Items",index:0,isItem:!0,content:a,deleteElement:A,editElement:C,addButtonPressed:u,deleteButtonPressed:g,deleteModalOpen:r,elementToDelete:l,deleteModalClose:S}),Object(B.jsx)(at,{value:i,name:"Categories",index:1,isItem:!1,content:n,deleteElement:A,editElement:y,addButtonPressed:m,deleteButtonPressed:g,deleteModalOpen:r,elementToDelete:l,deleteModalClose:S}),Object(B.jsx)(it,{dialogOpen:o,dialogClose:I,confirmEdit:j,dialogValues:s,itemNameChange:h,categoryAutocompleteValue:s.category,dialogCategoryChange:O,filterOptions:f,categoryOptions:n,getOptionLabel:x}),Object(B.jsx)(ct,{dialogOpen:c,dialogClose:v,dialogValue:d,confirmEdit:b,nameChange:p})]})},dt=function(){var e=Object(H.a)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([]),r=Object(O.a)(c,2),l=r[0],s=r[1],d=Object(n.useState)(!1),u=Object(O.a)(d,2),m=u[0],g=u[1],j=Object(n.useState)([]),b=Object(O.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)(!1),C=Object(O.a)(x,2),y=C[0],I=C[1],v=Object(n.useState)(!1),S=Object(O.a)(v,2),k=S[0],A=S[1],N=Object(n.useState)(null),V=Object(O.a)(N,2),L=V[0],B=V[1],w=Object(n.useState)({name:"",category:""}),T=Object(O.a)(w,2),z=T[0],D=T[1],E=Object(n.useCallback)((function(e){_.get("/list/listdetails/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o(Object(h.a)(Object(h.a)({},e.data),{},{items:e.data.user_items})),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]),M=function(){D({name:"",category:""}),A(!1),I(!1),B(null)};return{items:l,categories:p,listData:i,itemSearchOpen:y,itemAddModalOpen:k,itemAutocompleteValue:L,itemAddDialogValue:z,getList:E,saveListNameChange:function(){m&&_.put("/list/"+i.id,{userId:localStorage.getItem("userId"),newName:i.name},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},openItemSearch:function(e){_.get("/items/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(e.data)})).catch((function(e){console.log(e)})),_.get("categories/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){f(e.data)})).catch((function(e){console.log(e)})),I(!0)},itemAutocompleteValueChange:function(e,t){"string"===typeof t?setTimeout((function(){A(!0),D({name:t,category:""})})):t&&t.inputValue?(A(!0),D({name:t.inputValue,category:""})):D({name:t.name,category:""})},handleAddItemModalClose:M,dialogCategoryChange:function(e,t){"string"===typeof t?(A(!0),D(Object(h.a)(Object(h.a)({},z),{},{category:t}))):t&&t.inputValue?D(Object(h.a)(Object(h.a)({},z),{},{category:t.inputValue})):D(Object(h.a)(Object(h.a)({},z),{},{category:t}))},dialogNameChange:function(e){D(Object(h.a)(Object(h.a)({},z),{},{name:e.target.value}))},listNameChange:function(e){o(Object(h.a)(Object(h.a)({},i),{},{name:e.target.value})),g(!0)},filterOptions:function(t,a){var n=e(t,a);return""!==a.inputValue&&n.push({inputValue:a.inputValue,name:'Add "'.concat(a.inputValue,'"')}),n},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},addItemToList:function(e){e.preventDefault(),_.post("/list/add/"+i.id,{userId:localStorage.getItem("userId"),itemId:null===L||void 0===L?void 0:L.id,name:z.name,category:z.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),[{name:z.name,id:e.data.itemId}])});o(t),M()})).catch((function(e){console.log(e)}))},removeListItem:function(e){var t,a=null===(t=i.items)||void 0===t?void 0:t.filter((function(t){return t.list_item.id!==e}));_.delete("/list/listitem/delete/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o(Object(h.a)(Object(h.a)({},i),{},{items:a}))})).catch((function(e){console.log(e)}))}}},ut=Object(V.a)((function(e){return Object(L.a)({listNameInput:{width:"80%",left:"10%",right:"10%",marginTop:"100px",marginLeft:0,marginRight:0,marginBottom:30},listPaper:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly",marginTop:e.spacing(10),padding:e.spacing(3),width:"100%"},actionsSection:{position:"absolute",width:"100%",height:40,right:0,bottom:15,margin:0,display:"flex",justifyContent:"space-between"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},listItem:{flexGrow:1,marginBottom:e.spacing(1)},addButton:{marginLeft:e.spacing(2)},saveButton:{marginRight:e.spacing(2)}})})),mt=function(e){var t,a=ut(),i=dt(),o=i.listData,c=i.items,r=i.categories,l=i.itemSearchOpen,s=i.itemAddModalOpen,d=i.itemAutocompleteValue,u=i.itemAddDialogValue,m=i.getList,g=i.openItemSearch,j=i.itemAutocompleteValueChange,b=i.handleAddItemModalClose,h=i.dialogCategoryChange,O=i.dialogNameChange,p=i.listNameChange,x=i.filterOptions,C=i.getOptionLabel,y=i.addItemToList,I=i.removeListItem,v=i.saveListNameChange;Object(n.useEffect)((function(){m(e.match.params.listId)}),[e.match.params.listId]);var V=null===(t=o.items)||void 0===t?void 0:t.map((function(e){return Object(B.jsxs)(A.a,{className:a.listItem,divider:!0,children:[Object(B.jsx)(N.a,{primary:e.name}),Object(B.jsx)(ce.a,{children:Object(B.jsx)(S.a,{edge:"end",size:"small",onClick:function(){return I(e.list_item.id)},children:Object(B.jsx)(be.a,{})})})]},e.id)}));return Object(B.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(B.jsx)("h1",{className:a.hiddenTitle,children:"Edit list - ".concat(o.name)}),Object(B.jsx)(J.a,{id:"list-name",label:"List name",type:"text",value:o.name,onChange:p,className:a.listNameInput,inputProps:{min:0,style:{textAlign:"center"}},InputLabelProps:{shrink:!0}}),Object(B.jsx)(k.a,{children:V}),Object(B.jsxs)("section",{className:a.actionsSection,children:[Object(B.jsx)(f.a,{type:"button",color:"primary",variant:"contained",size:"small",className:a.addButton,onClick:g,children:"Add items"}),Object(B.jsx)(f.a,{type:"button",color:"secondary",variant:"contained",size:"small",className:a.saveButton,onClick:function(){v(),e.history.push("/mylists")},children:"Save & exit"})]}),Object(B.jsx)(qe,{addItem:y,openItemSearch:g,itemSearchOpen:l,handleItemSearchClose:b,itemAutocompleteValue:d,categoryAutocompleteValue:u.category,autoCompleteValueChange:j,filterOptions:x,itemOptions:c,categoryOptions:r,getOptionLabel:C,dialogOpen:s,dialogClose:b,dialogValues:u,dialogNameChange:O,dialogCategoryChange:h})]})};a(170);var gt=Object(b.g)((function(){var e=Object(B.jsxs)(b.d,{children:[Object(B.jsx)(b.b,{path:"/login",component:ke}),Object(B.jsx)(b.b,{path:"/register",component:Ve}),Object(B.jsx)(b.b,{path:"/",component:ke}),Object(B.jsx)(b.a,{to:"/"})]});return localStorage.getItem("token")&&(e=Object(B.jsxs)(b.d,{children:[Object(B.jsx)(b.b,{path:"/createlist",component:fe}),Object(B.jsx)(b.b,{path:"/additems",component:Z}),Object(B.jsx)(b.b,{path:"/login",component:ke}),Object(B.jsx)(b.b,{path:"/register",component:Ve}),Object(B.jsx)(b.b,{path:"/useritems",component:st}),Object(B.jsx)(b.b,{path:"/mylists/use/:listId",component:Xe}),Object(B.jsx)(b.b,{path:"/mylists/edit/:listId",component:mt}),Object(B.jsx)(b.b,{path:"/mylists",component:ze}),Object(B.jsx)(b.b,{path:"/",component:fe}),Object(B.jsx)(b.a,{to:"/"})]})),Object(B.jsx)(W,{children:e})})),jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,243)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),o(e),c(e)}))};c.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(l.a,{theme:j,children:Object(B.jsx)(r.a,{children:Object(B.jsx)(P,{children:Object(B.jsx)(gt,{})})})})}),document.getElementById("root")),jt()}},[[171,1,2]]]);
//# sourceMappingURL=main.9515e5fa.chunk.js.map