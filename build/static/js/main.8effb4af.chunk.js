(this.webpackJsonpshoppinglist=this.webpackJsonpshoppinglist||[]).push([[0],{151:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(15),c=a.n(o),l=a(18),r=a(236),s=a(127),d=a(115),u=a.n(d),m=a(116),g=a.n(m),j=Object(s.a)({palette:{primary:{main:u.a[500]},secondary:{main:g.a[500]}},typography:{h1:{fontSize:"2.4rem"},h2:{fontSize:"2.2rem"},h3:{fontSize:"2rem"},h4:{fontSize:"1.6rem"},h5:{fontSize:"1.3rem"},h6:{fontSize:"1rem"}}}),b=(a(151),a(11)),h=a(5),O=a(7),p=a(221),f=a(220),x=a(215),C=a(247),v=a(69),I=a(118),y=a.n(I),S=a(216),k=a(218),A=a(179),L=a(219),B=a(213),V=a(244),w=a(1),N=Object(B.a)((function(e){return Object(V.a)({menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"1.5rem"},drawer:{width:"180px",display:"flex",flexDirection:"column",fontSize:"1.3rem"},link:{textDecoration:"none",margin:e.spacing(2)},linkText:{fontSize:"20px"}})})),D=function(e){var t=N();return Object(w.jsxs)(x.a,{children:[localStorage.getItem("token")&&Object(w.jsx)(S.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu","aria-haspopup":"true",onClick:e.openDrawer,children:Object(w.jsx)(y.a,{})}),Object(w.jsx)(C.a,{open:e.drawerOpen,onClose:e.closeDrawer,children:Object(w.jsx)("nav",{className:t.drawer,children:Object(w.jsxs)(k.a,{children:[Object(w.jsx)(A.a,{color:"inherit",alignItems:"center",onClick:e.closeDrawer,children:Object(w.jsx)(l.b,{to:"/createlist",className:t.link,children:Object(w.jsx)(L.a,{primary:"Create a list",classes:{primary:t.linkText}})})}),Object(w.jsx)(A.a,{color:"inherit",alignItems:"center",onClick:e.closeDrawer,children:Object(w.jsx)(l.b,{to:"/useritems",className:t.link,children:Object(w.jsx)(L.a,{primary:"Edit Items",classes:{primary:t.linkText}})})}),Object(w.jsx)(A.a,{color:"inherit",alignItems:"center",onClick:e.closeDrawer,children:Object(w.jsx)(l.b,{to:"/mylists",className:t.link,children:Object(w.jsx)(L.a,{primary:"My lists",classes:{primary:t.linkText}})})})]})})}),Object(w.jsx)(v.a,{variant:"h1",className:t.title,color:"inherit",children:"Shopping"}),localStorage.getItem("token")?Object(w.jsx)(f.a,{color:"secondary",variant:"contained",onClick:e.logOut,children:"Log Out"}):Object(w.jsx)(f.a,{color:"secondary",variant:"contained",component:l.b,to:"/login",children:"Log In"})]})},T=Object(B.a)((function(e){return Object(V.a)({menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"2rem"},links:{marginRight:e.spacing(2)}})})),E=function(e){var t=T();return Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{variant:"h1",className:t.title,color:"inherit",children:"Shopping"}),localStorage.getItem("token")&&Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(f.a,{color:"inherit",component:l.b,to:"/createlist",className:t.links,children:"Create a list"}),Object(w.jsx)(f.a,{color:"inherit",component:l.b,to:"/useritems",className:t.links,children:"Edit items"}),Object(w.jsx)(f.a,{color:"inherit",component:l.b,to:"/mylists",className:t.links,children:"My lists"})]}),localStorage.getItem("token")?Object(w.jsx)(f.a,{color:"secondary",variant:"contained",onClick:e.logOut,children:"Log Out"}):Object(w.jsx)(f.a,{color:"secondary",variant:"contained",component:l.b,to:"/login",children:"Log In"})]})},z={isAuth:!1,isLoading:!1,userId:null,token:null,username:null},M=function(e,t){switch(t.type){case"LOGIN_START":return Object(h.a)(Object(h.a)({},e),{},{isLoading:!0});case"LOGIN_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{isAuth:!0,userId:t.userId,token:t.token,username:t.username});case"LOGOUT":default:return z}},F=i.a.createContext({state:z,dispatch:function(){return null}}),P=function(e){var t=Object(n.useReducer)(M,z),a=Object(O.a)(t,2),i=a[0],o=a[1];return Object(w.jsx)(F.Provider,{value:{state:i,dispatch:o},children:e.children})},R=function(){var e=Object(n.useState)({mobileView:!1,drawerOpen:!1,redirectToLogin:!1}),t=Object(O.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(F),l=(c.state,c.dispatch,a.mobileView),r=a.drawerOpen;Object(n.useEffect)((function(){var e=function(){return window.innerWidth<900?o((function(e){return Object(h.a)(Object(h.a)({},e),{},{mobileView:!0})})):o((function(e){return Object(h.a)(Object(h.a)({},e),{},{mobileView:!1})}))};e(),window.addEventListener("resize",(function(){return e()}))}),[]);var s=function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),o(Object(h.a)(Object(h.a)({},a),{},{redirectToLogin:!0}))},d=null;return a.redirectToLogin&&(d=Object(w.jsx)(b.a,{to:"/login"})),Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(p.a,{color:"primary",position:"fixed",children:l?Object(w.jsx)(D,{openDrawer:function(){return o((function(e){return Object(h.a)(Object(h.a)({},e),{},{drawerOpen:!0})}))},closeDrawer:function(){return o((function(e){return Object(h.a)(Object(h.a)({},e),{},{drawerOpen:!1})}))},drawerOpen:r,logOut:s}):Object(w.jsx)(E,{logOut:s})}),d]})},U=function(e){return Object(w.jsxs)(n.Fragment,{children:[Object(w.jsx)(R,{}),Object(w.jsx)("main",{children:e.children})]})},H=a(222),W=a(119),_={url:{API_URL:"http://ec2-18-191-229-230.us-east-2.compute.amazonaws.com/api/"}},G=a.n(W).a.create({baseURL:_.url.API_URL}),q=Object(H.a)(),K=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),c=Object(O.a)(o,2),l=c[0],r=c[1],s=Object(n.useState)(null),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)([]),j=Object(O.a)(g,2),b=j[0],h=j[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){G.get("/categories/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){h(e.data)}))};return{submitItem:function(e){e.preventDefault(),function(e,t,a){G.post("/items/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")},name:e,category:t,lasts:""!==a?a:null}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(l,u,a)},handleCategoryChange:function(e,t){"string"===typeof t?setTimeout((function(){m({name:t})})):t&&t.inputValue?m({name:t.inputValue}):m(t)},handleNameChange:function(e){r(e.target.value)},handleItemLastsChange:function(e){i(e.target.value)},filterOptions:function(e,t){var a=q(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),a},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},itemName:l,category:u,categories:b,itemLasts:a}},X=a(223),Y=a(237),J=a(242),Q=Object(B.a)((function(e){return Object(V.a)({articleTitle:{marginTop:"100px"},addItemForm:{margin:e.spacing(4)},inputs:{marginTop:e.spacing(2)},addButton:{display:"block",marginTop:e.spacing(2)}})})),Z=function(){var e=Q(),t=K(),a=t.itemName,n=t.categories,i=t.category,o=t.itemLasts,c=t.handleNameChange,l=t.submitItem,r=t.handleCategoryChange,s=t.handleItemLastsChange,d=t.filterOptions,u=t.getOptionLabel;return Object(w.jsxs)(X.a,{component:"article",maxWidth:"md",children:[Object(w.jsx)(v.a,{variant:"h1",className:e.articleTitle,color:"primary",align:"center",children:"Add an item"}),Object(w.jsxs)("form",{className:e.addItemForm,onSubmit:l,children:[Object(w.jsx)(Y.a,{required:!0,id:"item-name",label:"Item name",variant:"outlined",fullWidth:!0,value:a,onChange:c,className:e.inputs}),Object(w.jsx)(J.a,{value:i,onChange:r,filterOptions:d,id:"category-autocomplete",options:n,getOptionLabel:u,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(t){return Object(w.jsx)(Y.a,Object(h.a)(Object(h.a)({},t),{},{label:"category",variant:"outlined",className:e.inputs}))}}),Object(w.jsx)(Y.a,{id:"item-name",label:"Lasts (days)",variant:"outlined",value:o,onChange:s,className:e.inputs}),Object(w.jsx)(f.a,{type:"submit",className:e.addButton,variant:"contained",color:"secondary",children:"Add"})]})]})},$=a(26),ee=function(){var e=Object(H.a)(),t=Object(n.useState)({name:"",items:[]}),a=Object(O.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([]),l=Object(O.a)(c,2),r=l[0],s=l[1],d=Object(n.useState)([]),u=Object(O.a)(d,2),m=u[0],g=u[1],j=Object(n.useState)({id:void 0,name:"",category:""}),b=Object(O.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)(!1),C=Object(O.a)(x,2),v=C[0],I=C[1],y=Object(n.useState)(null),S=Object(O.a)(y,2),k=S[0],A=S[1],L=Object(n.useState)([]),B=Object(O.a)(L,2),V=B[0],w=B[1],N=Object(n.useState)(!1),D=Object(O.a)(N,2),T=D[0],E=D[1],z=Object(n.useState)([]),M=Object(O.a)(z,2),F=M[0],P=M[1],R=Object(n.useState)(!1),U=Object(O.a)(R,2),W=U[0],_=U[1],q=Object(n.useState)(!1),K=Object(O.a)(q,2),X=K[0],Y=K[1],J=Object(n.useState)(null),Q=Object(O.a)(J,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(null),ae=Object(O.a)(te,2),ne=ae[0],ie=ae[1],oe=Object(n.useState)(!1),ce=Object(O.a)(oe,2),le=ce[0],re=ce[1],se=Object(n.useState)(""),de=Object(O.a)(se,2),ue=de[0],me=de[1],ge=Object(n.useState)(null),je=Object(O.a)(ge,2),be=je[0],he=je[1];Object(n.useEffect)((function(){Oe(localStorage.getItem("userId")),pe(localStorage.getItem("userId")),fe(localStorage.getItem("userId"))}),[localStorage.getItem("userId")]);var Oe=function(e){G.get("items/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(e.data)}))},pe=function(e){G.get("categories/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))},fe=function(e){G.get("items/suggestions/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){w(e.data)})).catch((function(e){console.log(e)}))},xe=function(){f({name:"",category:""}),I(!1),A(null)},Ce=function(){E(!0!==T)},ve=function(){ie(null)},Ie=function(){_(!1)},ye=function(){G.post("/list",{list:i,userId:localStorage.getItem("userId")},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),ee(e.data),Y(!0)})).catch((function(e){console.log(e)}))},Se=function(){re(!1),he(null),ie(null),me("")};return{list:i,items:r,categories:m,suggestions:V,itemAddDialogValue:p,itemAddModalOpen:v,saveListDialogOpen:W,itemAutocompleteValue:k,toggleSuggestions:T,checkedSuggestions:F,menuAnchorEl:ne,commentDialogOpen:le,commentDialogValue:ue,listSaveRedirect:X,savedListId:Z,addCommentButtonClicked:function(e){re(!0)},handleCommentDialogValueChange:function(e){me(e.target.value)},handleCommentDialogClose:Se,deleteItemComment:function(e){var t=i.items.map((function(t){return t.id!==e?t:Object(h.a)(Object(h.a)({},t),{},{comment:null})})),a=Object(h.a)(Object(h.a)({},i),{},{items:t});o(a),Se()},saveItemComment:function(e){e.preventDefault();var t=i.items.map((function(e){return e.id!==be?e:Object(h.a)(Object(h.a)({},e),{},{comment:ue})})),a=Object(h.a)(Object(h.a)({},i),{},{items:t});o(a),Se()},handleAddItemModalClose:xe,handleSaveListDialogClose:Ie,handleSuggestionsVisible:Ce,handleDotsClick:function(e,t){ie(e.currentTarget),he(t)},closeDotsMenu:ve,itemAutocompleteValueChange:function(e,t){if("string"===typeof t)setTimeout((function(){I(!0),f({name:t,category:""})}));else if(t&&t.inputValue)I(!0),f({id:t.id,name:t.inputValue,category:""});else{f({id:t.id,name:t.name,category:""});var a=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),[{name:t.name,id:t.id}])}),n=r.filter((function(e){return e.id!==t.id})),c=V.filter((function(e){return e.id!==t.id}));w(c),o(a),s(n)}},dialogNameChange:function(e){f(Object(h.a)(Object(h.a)({},p),{},{name:e.target.value,id:e.target.value.id}))},dialogCategoryChange:function(e,t){"string"===typeof t?setTimeout((function(){I(!0),f(Object(h.a)(Object(h.a)({},p),{},{category:t}))})):t&&t.inputValue?f(Object(h.a)(Object(h.a)({},p),{},{category:t.inputValue})):f(Object(h.a)(Object(h.a)({},p),{},{category:t}))},listNameChange:function(e){o(Object(h.a)(Object(h.a)({},i),{},{name:e.target.value}))},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},filterOptions:function(t,a){var n=e(t,a);return""!==a.inputValue&&n.push({inputValue:a.inputValue,name:'Add "'.concat(a.inputValue,'"'),id:a.id}),n},getItems:Oe,getCategories:pe,removeListItem:function(){var e=i.items.filter((function(e){return e.id!==be}));o(Object(h.a)(Object(h.a)({},i),{},{items:e})),ve(),Oe(localStorage.getItem("userId"))},addItem:function(e){e.preventDefault(),G.post("/items/"+localStorage.getItem("userId"),{itemId:null===k||void 0===k?void 0:k.id,name:p.name,category:p.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),[{name:p.name,id:e.data.id}])});o(t),xe(),Oe(localStorage.getItem("userId")),pe(localStorage.getItem("userId"))})).catch((function(e){console.log(e)}))},addFromSuggestions:function(){var e=Object(h.a)(Object(h.a)({},i),{},{items:[].concat(Object($.a)(i.items),Object($.a)(F))}),t=Object($.a)(V),a=Object($.a)(r);F.forEach((function(e){t=t.filter((function(t){return t.id!==e.id})),a=a.filter((function(t){return t.id!==e.id}))})),o(e),s(a),w(t),Ce(),P([])},suggestionCheckHandler:function(e){var t=F.indexOf(e),a=Object($.a)(F);-1===t?a.push(e):a.splice(t,1),P(a)},saveListButtonPressed:function(){_(!0);var e="list"+String(Math.floor(1e4*Math.random()));o(Object(h.a)(Object(h.a)({},i),{},{name:e}))},saveListConfirm:function(e){e.preventDefault(),ye(),Ie()},saveList:ye}},te=a(225),ae=a(226),ne=a(227),ie=a(228),oe=function(e){return Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(J.a,{value:e.itemAutocompleteValue,onChange:e.itemAutoCompleteValueChange,filterOptions:e.filterOptions,id:"add-item-autocomplete",options:e.itemOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,fullWidth:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(w.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{label:"Search Item or add new",variant:"outlined"}))}}),Object(w.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-item-dialog-name",children:Object(w.jsxs)("form",{onSubmit:e.addItem,children:[Object(w.jsx)(ae.a,{id:"add-item-dialog-name",children:"Add a new item"}),Object(w.jsxs)(ne.a,{children:[Object(w.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValues.name,onChange:e.dialogNameChange,label:"name",type:"text",variant:"outlined"}),Object(w.jsx)(J.a,{value:e.categoryAutocompleteValue,onChange:e.dialogCategoryChange,onInputChange:e.onInputChange,filterOptions:e.filterOptions,id:"category-autocomplete",options:e.categoryOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(w.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{label:"category",margin:"dense",variant:"outlined"}))}})]}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"primary",children:"Add"})]})]})})]})},ce=a(229),le=a(240),re=a(130),se=a(230),de=Object(B.a)((function(e){return Object(V.a)({suggestionsBoxVisible:{display:"block",position:"fixed",top:"100px",left:"50px",right:50,bottom:100,zIndex:10,padding:e.spacing(1)},suggestionsBoxHidden:{display:"none"},suggestionItem:{cursor:"pointer"},buttonContainer:{boxSizing:"border-box",position:"absolute",width:"100%",bottom:0,left:0,margin:0,padding:e.spacing(1),borderTop:"1px black solid",zIndex:11},suggestionList:{maxHeight:400,overflow:"auto"}})})),ue=function(e){var t=de();return Object(w.jsxs)(re.a,{className:e.toggleSuggestions?t.suggestionsBoxVisible:t.suggestionsBoxHidden,elevation:4,component:"article",children:[0===e.items.length?Object(w.jsx)(v.a,{variant:"h5",component:"p",color:"primary",align:"center",children:"No suggestions yet. You need to use the app for a bit longer to provide enough information."}):null,Object(w.jsx)(k.a,{className:t.suggestionList,children:e.items.map((function(a){return Object(w.jsxs)(A.a,{className:t.suggestionItem,divider:!0,children:[Object(w.jsx)(L.a,{primary:a.name}),Object(w.jsx)(ce.a,{children:Object(w.jsx)(le.a,{edge:"end",onChange:function(){return e.suggestionCheckHandler(a)},checked:-1!==e.checkedSuggestions.indexOf(a)})})]},a.id)}))}),Object(w.jsxs)(se.a,{container:!0,justify:"space-evenly",spacing:2,className:t.buttonContainer,component:"footer",children:[Object(w.jsx)(se.a,{item:!0,children:Object(w.jsx)(f.a,{color:"primary",variant:"contained",onClick:e.toggleVisible,children:"Close"})}),Object(w.jsx)(se.a,{item:!0,children:Object(w.jsx)(f.a,{color:"secondary",variant:"contained",disabled:e.checkedSuggestions.length<1,onClick:e.addItems,children:"Add Items"})})]})]})},me=Object(B.a)((function(e){return Object(V.a)({})})),ge=function(e){me();return Object(w.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-comment-dialog",children:Object(w.jsxs)("form",{onSubmit:e.saveComment,children:[Object(w.jsx)(ae.a,{id:"add-comment-dialog",children:"Add comment"}),Object(w.jsx)(ne.a,{children:Object(w.jsx)(Y.a,{autoFocus:!0,id:"item-comment",onChange:e.valueChange,label:"Comment",type:"text",variant:"outlined",value:e.value})}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"secondary",children:"Save"})]})]})})},je=function(e){return Object(w.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"confirm-save-dialog",children:Object(w.jsxs)("form",{onSubmit:e.saveList,children:[Object(w.jsx)(ae.a,{id:"confirm-save-dialog",children:"Edit name"}),Object(w.jsx)(ne.a,{children:Object(w.jsx)(Y.a,{autoFocus:!0,id:"list-name",onChange:e.nameChange,label:"List name",type:"text",variant:"outlined",value:e.nameValue})}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"secondary",children:"Save"})]})]})})},be=a(128),he=a(231),Oe=a(86),pe=a.n(Oe),fe=a(246),xe=a(131),Ce=Object(B.a)((function(e){return Object(V.a)({listItemText:{flexGrow:"unset",marginRight:e.spacing(1)}})})),ve=function(e){var t=Ce();return Object(w.jsxs)(A.a,{divider:!0,children:[Object(w.jsx)(L.a,{primary:e.name,className:t.listItemText}),e.comment?Object(w.jsx)(fe.a,{label:e.comment,variant:"outlined",size:"small",onDelete:function(){return e.deleteComment(e.id)}}):null,Object(w.jsxs)(be.a,{id:"item-actions-menu",anchorEl:e.menuAnchorEl,keepMounted:!0,open:Boolean(e.menuAnchorEl),onClose:e.closeDotsMenu,TransitionComponent:xe.a,children:[Object(w.jsx)(he.a,{onClick:e.removeListItem,children:"Remove"}),Object(w.jsx)(he.a,{onClick:e.addCommentButtonClicked,children:"Add comment"})]}),Object(w.jsx)(ce.a,{children:Object(w.jsx)(S.a,{"aria-controls":"item-actions-menu","aria-haspopup":"true",edge:"end",size:"small",color:"inherit",onClick:function(t){return e.handleDotsClick(t,e.id)},children:Object(w.jsx)(pe.a,{})})})]})},Ie=a(232),ye=Object(B.a)((function(e){return Object(V.a)({listPaper:{position:"relative",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(3),width:"100%",minHeight:"350px"},wideScreenListPaper:{position:"relative",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(5),width:"100%",minHeight:"350px"},list:{marginBottom:e.spacing(3),boxSizing:"border-box",overflow:"auto"},widescreenList:{paddingBottom:e.spacing(6)},listItemText:{flexGrow:"unset",marginRight:e.spacing(1)}})})),Se=function(e){var t=ye(),a=Object(Ie.a)("(min-width:600px)");return Object(w.jsxs)(re.a,{className:a?t.wideScreenListPaper:t.listPaper,elevation:3,component:"section",children:[Object(w.jsx)(k.a,{className:a?t.widescreenList:t.list,children:e.list.items.map((function(t){return Object(w.jsx)(ve,{id:t.id,name:t.name,comment:t.comment,deleteComment:e.deleteComment,menuAnchorEl:e.menuAnchorEl,closeDotsMenu:e.closeDotsMenu,removeListItem:e.removeListItem,addCommentButtonClicked:e.addCommentButtonClicked,handleDotsClick:e.handleDotsClick})}))}),e.widescreen&&e.saveButton]})},ke=a(121),Ae=a.n(ke),Le=Object(B.a)((function(e){return Object(V.a)({articleTitle:{margin:"0 0 20px 0"},container:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundImage:'url("groceries1.jpg")',backgroundSize:"cover"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},inputSection:{boxSizing:"border-box",width:"100%",padding:"2rem 1rem 1rem 1rem",marginTop:"70px",display:"flex",flexDirection:"column",alignItems:"center"},suggestionButton:{margin:"15px auto 5px auto"},widescreenInputSection:{boxSizing:"border-box",width:"100%",padding:"3rem 2rem 1rem 2rem",marginTop:"120px",display:"flex",flexDirection:"column",alignItems:"center"},saveButton:{position:"fixed",bottom:e.spacing(2),left:"50%",transform:"translateX(-50%)"},wideScreenSaveButton:{position:"absolute",width:"12rem",bottom:e.spacing(3),left:"50%",transform:"translateX(-50%)"}})})),Be=function(){var e=Le(),t=Object(Ie.a)("(min-width:600px)"),a=ee(),n=a.list,o=a.items,c=a.categories,l=a.suggestions,r=a.itemAddDialogValue,s=a.itemAutocompleteValue,d=a.itemAddModalOpen,u=a.toggleSuggestions,m=a.checkedSuggestions,g=a.saveListDialogOpen,j=a.menuAnchorEl,h=a.commentDialogOpen,O=a.commentDialogValue,p=a.listSaveRedirect,x=a.savedListId,C=a.addCommentButtonClicked,v=a.deleteItemComment,I=a.handleCommentDialogValueChange,y=a.handleCommentDialogClose,S=a.saveItemComment,k=a.handleAddItemModalClose,A=a.handleSuggestionsVisible,L=a.handleSaveListDialogClose,B=a.handleDotsClick,V=a.closeDotsMenu,N=a.itemAutocompleteValueChange,D=a.dialogNameChange,T=a.dialogCategoryChange,E=a.listNameChange,z=a.getOptionLabel,M=a.filterOptions,F=a.removeListItem,P=a.addItem,R=a.addFromSuggestions,U=a.suggestionCheckHandler,H=a.saveListButtonPressed,W=a.saveListConfirm,_=Object(w.jsx)(f.a,{type:"button",color:"secondary",variant:"contained",size:"large",onClick:H,disabled:n.items.length<1,className:t?e.wideScreenSaveButton:e.saveButton,children:"Save list"});return Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsxs)(X.a,{component:"article",maxWidth:"sm",className:e.container,children:[Object(w.jsx)("h1",{className:e.hiddenTitle,children:"Create a List!"}),Object(w.jsxs)(re.a,{className:t?e.widescreenInputSection:e.inputSection,elevation:3,component:"section",children:[Object(w.jsx)(oe,{itemAutocompleteValue:s,categoryAutocompleteValue:null===s||void 0===s?void 0:s.category,itemAutoCompleteValueChange:N,filterOptions:M,itemOptions:o,categoryOptions:c,getOptionLabel:z,dialogOpen:d,dialogClose:k,addItem:P,dialogValues:r,dialogNameChange:D,dialogCategoryChange:T}),Object(w.jsx)(f.a,{color:"secondary",className:e.suggestionButton,startIcon:Object(w.jsx)(Ae.a,{}),onClick:A,children:"Suggestions"})]}),Object(w.jsx)(Se,{list:n,menuAnchorEl:j,handleDotsClick:B,closeDotsMenu:V,removeListItem:F,saveListButtonPressed:H,widescreen:t,saveButton:_,addCommentButtonClicked:C,deleteComment:v}),Object(w.jsx)(ue,{items:l,toggleSuggestions:u,suggestionCheckHandler:U,checkedSuggestions:m,addItems:R,toggleVisible:A}),!t&&_]}),Object(w.jsx)(ge,{dialogOpen:h,dialogClose:y,saveComment:S,valueChange:I,value:O}),Object(w.jsx)(je,{dialogOpen:g,dialogClose:L,nameValue:n.name,nameChange:E,saveList:W}),p?Object(w.jsx)(b.a,{to:"/mylists/use/"+x}):null]})},Ve=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),c=Object(O.a)(o,2),l=c[0],r=c[1],s=Object(n.useState)(""),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)(""),j=Object(O.a)(g,2),b=j[0],h=j[1],p=Object(n.useState)(!1),f=Object(O.a)(p,2),x=f[0],C=f[1],v=Object(n.useState)(!1),I=Object(O.a)(v,2),y=I[0],S=I[1];return{username:a,password:l,message:u,messageType:b,alertOpen:x,loginRedirect:y,handleAlertClose:function(e,t){"clickaway"!==t&&C(!1)},handleRegisterSuccessMessage:function(e){m(e),h("success"),C(!0)},handleUsernameChange:function(e){i(e.target.value)},handlePasswordChange:function(e){r(e.target.value)},submitForm:function(e){e.preventDefault(),function(e,t){G.post("/auth/login",{username:e,password:t}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId),localStorage.setItem("username",e.data.username),S(!0)})).catch((function(e){m(e.response.data.error),h("error"),C(!0)}))}(a,l)}}},we=a(238),Ne=a(243),De=a(241),Te=function(e){return Object(w.jsx)(De.a,Object(h.a)({elevation:6,variant:"filled"},e))},Ee=Object(B.a)((function(e){return Object(V.a)({articleTitle:{marginTop:"100px"},logInForm:{margin:e.spacing(2)},inputs:{marginTop:e.spacing(4)},addButton:{display:"block",marginTop:e.spacing(4),marginLeft:"auto",marginRight:"auto"},registerContainer:{marginTop:e.spacing(8),textAlign:"center"},registerText:{marginBottom:e.spacing(1)}})})),ze=function(e){var t=Ee(),a=Ve(),i=a.message,o=a.messageType,c=a.alertOpen,r=a.loginRedirect,s=a.handleAlertClose,d=a.handleUsernameChange,u=a.handlePasswordChange,m=a.submitForm,g=a.handleRegisterSuccessMessage;return Object(n.useEffect)((function(){"true"===new URLSearchParams(e.location.search).get("redirect")&&g("User created! You can now log in.")}),[e.location.search]),Object(w.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(w.jsx)(v.a,{variant:"h1",className:t.articleTitle,color:"primary",align:"center",children:"Log In"}),Object(w.jsxs)("form",{className:t.logInForm,onSubmit:m,children:[Object(w.jsx)(Y.a,{required:!0,id:"username",label:"Username",variant:"outlined",onChange:d,fullWidth:!0,className:t.inputs}),Object(w.jsx)(Y.a,{required:!0,id:"password",label:"Password",type:"password",variant:"outlined",onChange:u,fullWidth:!0,className:t.inputs}),Object(w.jsx)(f.a,{type:"submit",className:t.addButton,variant:"contained",size:"large",color:"secondary",children:"Log In"})]}),Object(w.jsxs)(we.a,{component:"section",className:t.registerContainer,children:[Object(w.jsx)(v.a,{variant:"h5",component:"h2",className:t.registerText,color:"primary",align:"center",children:"New to the app?"}),Object(w.jsx)(f.a,{type:"button",color:"secondary",size:"large",component:l.b,to:"/register",children:"Sign Up Here"})]}),Object(w.jsx)(Ne.a,{open:c,autoHideDuration:9e3,onClose:s,children:Object(w.jsx)(Te,{onClose:s,severity:"error"===o?"error":"success",children:i})}),r?Object(w.jsx)(b.a,{to:"/createlist"}):null]})},Me=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(""),c=Object(O.a)(o,2),l=c[0],r=c[1],s=Object(n.useState)(""),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)(""),j=Object(O.a)(g,2),b=j[0],h=j[1],p=Object(n.useState)(""),f=Object(O.a)(p,2),x=f[0],C=f[1],v=Object(n.useState)(!1),I=Object(O.a)(v,2),y=I[0],S=I[1],k=Object(n.useState)(!1),A=Object(O.a)(k,2),L=A[0],B=A[1],V=Object(n.useState)(!1),w=Object(O.a)(V,2),N=w[0],D=w[1];return{username:a,email:l,password:u,resultMessage:x,alertOpen:y,isError:L,successRedirect:N,handleAlertClose:function(e,t){"clickaway"!==t&&S(!1)},handleUsernameChange:function(e){i(e.target.value)},handleEmailChange:function(e){r(e.target.value)},handlePasswordChange:function(e){m(e.target.value)},handleRepeatPasswordChange:function(e){h(e.target.value)},submitForm:function(e){e.preventDefault(),function(e,t,a,n){a===n&&G.post("/auth/signup",{username:e,email:t,password:a,confirmPassword:n}).then((function(e){B(!1),S(!0),C(e.data.message),D(!0)})).catch((function(e){B(!0),C(e.response.data.error),S(!0)}))}(a,l,u,b)}}},Fe=Object(B.a)((function(e){return Object(V.a)({articleTitle:{marginTop:"100px"},signUpForm:{margin:e.spacing(2)},inputs:{marginTop:e.spacing(4)},registerButton:{display:"block",marginTop:e.spacing(4),marginLeft:"auto",marginRight:"auto"},logInContainer:{marginTop:e.spacing(6),textAlign:"center"},logInText:{marginBottom:e.spacing(1)}})})),Pe=function(){var e=Fe(),t=Me(),a=t.resultMessage,n=t.alertOpen,i=t.isError,o=t.successRedirect,c=t.handleAlertClose,r=t.handleUsernameChange,s=t.handleEmailChange,d=t.handlePasswordChange,u=t.handleRepeatPasswordChange,m=t.submitForm;return Object(w.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(w.jsx)(v.a,{variant:"h1",component:"h1",className:e.articleTitle,color:"primary",align:"center",children:"Sign Up"}),Object(w.jsxs)("form",{className:e.signUpForm,onSubmit:m,children:[Object(w.jsx)(Y.a,{required:!0,id:"email",label:"e-mail",variant:"outlined",onChange:s,fullWidth:!0,className:e.inputs}),Object(w.jsx)(Y.a,{required:!0,id:"username",label:"Username",variant:"outlined",onChange:r,fullWidth:!0,className:e.inputs}),Object(w.jsx)(Y.a,{required:!0,id:"password",label:"Password",type:"password",variant:"outlined",onChange:d,fullWidth:!0,className:e.inputs}),Object(w.jsx)(Y.a,{required:!0,id:"repeat-password",label:"Repeat password",type:"password",variant:"outlined",onChange:u,fullWidth:!0,className:e.inputs}),Object(w.jsx)(f.a,{type:"submit",className:e.registerButton,variant:"contained",size:"large",color:"secondary",children:"Register"})]}),Object(w.jsxs)(we.a,{component:"section",className:e.logInContainer,children:[Object(w.jsx)(v.a,{variant:"h5",component:"h2",className:e.logInText,color:"primary",align:"center",children:"Already a user?"}),Object(w.jsx)(f.a,{type:"button",color:"secondary",size:"large",component:l.b,to:"/login",children:"Log In"})]}),Object(w.jsx)(Ne.a,{open:n,autoHideDuration:9e3,onClose:c,children:Object(w.jsx)(Te,{onClose:c,severity:i?"error":"success",children:a})}),o?Object(w.jsx)(b.a,{to:"/login?registerRedirect=true"}):null]})},Re=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],i=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){G.get("/list/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))};return{myLists:a,deleteList:function(e){G.delete("/list/delete/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o()})).catch((function(e){console.log(e)}))}}},Ue=a(122),He=a.n(Ue),We=Object(B.a)((function(e){return Object(V.a)({articleTitle:{margin:"100px 10px 40px 10px"},listTiles:{boxSizing:"border-box",display:"grid",gridColumnGap:"1rem",gridRowGap:"10%",gridTemplateColumns:"4fr 4fr 4fr 4fr",gridTemplateRows:"45% 45%",gridTemplateAreas:'\n                "name name date date"\n                "useListButton viewListButton . deleteButton"\n                ',justifyContent:"space-around",marginTop:e.spacing(2),padding:e.spacing(2),width:"100%",height:"8rem"},deleteButton:{gridArea:"deleteButton"},useListButton:{gridArea:"useListButton"},viewListButton:{gridArea:"viewListButton"},name:{gridArea:"name",textAlign:"left",paddingLeft:e.spacing(1)},date:{gridArea:"date"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}})})),_e=function(e){var t=We(),a=Re(),n=a.myLists,i=a.deleteList,o=n.map((function(a){var n;return Object(w.jsxs)(re.a,{className:t.listTiles,elevation:3,component:"section",children:[Object(w.jsx)(v.a,{variant:"h4",color:"secondary",align:"center",component:"h2",className:t.name,children:a.name}),Object(w.jsx)(v.a,{variant:"h5",color:"inherit",align:"center",component:"h3",className:t.date,children:null===(n=a.createdAt)||void 0===n?void 0:n.split("T")[0]}),Object(w.jsx)(S.a,{color:"inherit","aria-label":"delete-list",className:t.deleteButton,onClick:function(){return i(a.id)},children:Object(w.jsx)(He.a,{})}),Object(w.jsx)(f.a,{color:"primary",variant:"contained",className:t.useListButton,onClick:function(){return e.history.push({pathname:"/mylists/use/"+a.id})},children:"Shop"}),Object(w.jsx)(f.a,{color:"inherit",variant:"contained",className:t.viewListButton,onClick:function(){return e.history.push({pathname:"/mylists/edit/"+a.id})},children:"Edit"})]},a.id)}));return Object(w.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(w.jsx)("h1",{className:t.hiddenTitle,children:"My lists"}),Object(w.jsx)(v.a,{variant:"h1",component:"p",className:t.articleTitle,color:"primary",align:"center",children:0===n.length?"You have no lists saved yet":null}),o]})},Ge=function(){var e=Object(H.a)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([]),l=Object(O.a)(c,2),r=l[0],s=l[1],d=Object(n.useState)([]),u=Object(O.a)(d,2),m=u[0],g=u[1],j=Object(n.useState)({name:"",category:""}),b=Object(O.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)([]),C=Object(O.a)(x,2),v=C[0],I=C[1],y=Object(n.useState)([]),S=Object(O.a)(y,2),k=S[0],A=S[1],L=Object(n.useState)(!1),B=Object(O.a)(L,2),V=B[0],w=B[1],N=Object(n.useState)(!1),D=Object(O.a)(N,2),T=D[0],E=D[1],z=Object(n.useState)(!1),M=Object(O.a)(z,2),F=M[0],P=M[1],R=Object(n.useState)(null),U=Object(O.a)(R,2),W=U[0],_=U[1],q=Object(n.useState)(!1),K=Object(O.a)(q,2),X=K[0],Y=K[1],J=Object(n.useCallback)((function(e){G.get("/list/listdetails/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o(e.data),I(e.data.user_items)})).catch((function(e){console.log(e)}))}),[]),Q=function(){G.get("/items/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))},Z=function(){f({name:"",category:""}),E(!1),P(!1),_(null)},ee=function(){w(!0)};return{listData:i,items:r,categories:m,itemAddDialogValue:p,itemAddModalOpen:T,listItems:v,pickedList:k,finishModalOpen:V,itemSearchOpen:F,itemAutocompleteValue:W,finishedRedirect:X,addItemTolist:function(e){e.preventDefault(),G.post("/list/add/"+i.id,{userId:localStorage.getItem("userId"),itemId:null===W||void 0===W?void 0:W.id,name:p.name,category:p.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){J(e.data.listId),Z()})).catch((function(e){console.log(e)}))},handleFinishModalOpen:ee,handleFinishModalClose:function(){w(!1)},handleAddItemModalClose:Z,openItemSearch:function(e){Q(),G.get("categories/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){g(e.data)})).catch((function(e){console.log(e)})),P(!0)},itemAutoCompleteValueChange:function(e,t){"string"===typeof t?setTimeout((function(){E(!0),f({name:t,category:""})})):t&&t.inputValue?(E(!0),f({name:t.inputValue,category:""})):f({name:t.name,category:""})},dialogNameChange:function(e){f(Object(h.a)(Object(h.a)({},p),{},{name:e.target.value}))},dialogCategoryChange:function(e,t){"string"===typeof t?(E(!0),f(Object(h.a)(Object(h.a)({},p),{},{category:t}))):t&&t.inputValue?f(Object(h.a)(Object(h.a)({},p),{},{category:t.inputValue})):f(Object(h.a)(Object(h.a)({},p),{},{category:t}))},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},filterOptions:function(t,a){var n=e(t,a);return""!==a.inputValue&&n.push({inputValue:a.inputValue,name:'Add "'.concat(a.inputValue,'"')}),n},itemCheckClicked:function(e){var t=null===v||void 0===v?void 0:v.filter((function(t){return t.id!==e}));I(t),t.length<1&&ee();var a=v.find((function(t){return t.id===e})),n=[].concat(Object($.a)(k),[a]);A(n)},itemCheckUndo:function(e){var t=k.filter((function(t){return t.id!==e})),a=k.find((function(t){return t.id===e}));A(t);var n=[].concat(Object($.a)(v),[a]);I(n)},getItems:Q,getList:J,listPickingFinished:function(){G.post("/items/bought/"+localStorage.getItem("userId"),{items:k},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){w(!1),Y(!0)})).catch((function(e){console.log(e)}))}}},qe=Object(B.a)((function(e){return Object(V.a)({})})),Ke=function(e){qe();return Object(w.jsxs)(te.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"finish-dialog",children:[Object(w.jsx)(ae.a,{id:"finish-dialog",children:"Mark shopping complete?"}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.handleClose,color:"primary",children:"No, I forgot something"}),Object(w.jsx)(f.a,{onClick:e.handleFinished,color:"secondary",autoFocus:!0,children:"Yes"})]})]})},Xe=a(233),Ye=a(125),Je=a.n(Ye),Qe=a(123),Ze=a.n(Qe),$e=a(66),et=a.n($e),tt=a(124),at=a.n(tt),nt=Object(B.a)((function(e){return Object(V.a)({})})),it=function(e){nt();return Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsxs)(te.a,{open:e.itemSearchOpen,fullWidth:!0,onClose:e.handleItemSearchClose,"aria-labelledby":"add-item-search",children:[Object(w.jsx)(ne.a,{children:Object(w.jsx)(J.a,{value:e.itemAutocompleteValue,onChange:e.autoCompleteValueChange,filterOptions:e.filterOptions,id:"add-item-autocomplete",options:e.itemOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(w.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{label:"Search Item or add new",variant:"outlined"}))}})}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.handleItemSearchClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"primary",onClick:e.addItemToList,children:"Add"})]})]}),Object(w.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-item-dialog-name",children:Object(w.jsxs)("form",{onSubmit:e.addItem,children:[Object(w.jsx)(ae.a,{id:"add-item-dialog-name",children:"Add a new item"}),Object(w.jsxs)(ne.a,{children:[Object(w.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValues.name,onChange:e.dialogNameChange,label:"name",type:"text",variant:"outlined"}),Object(w.jsx)(J.a,{value:e.categoryAutocompleteValue,onChange:e.dialogCategoryChange,filterOptions:e.filterOptions,id:"category-autocomplete",options:e.categoryOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(w.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{label:"category",margin:"dense",variant:"outlined"}))}})]}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"primary",children:"Add"})]})]})})]})},ot=Object(B.a)((function(e){return Object(V.a)({articleTitle:{},listPaper:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly",padding:e.spacing(3),width:"100%"},pickedList:{marginTop:e.spacing(4)},listItem:{flexGrow:1},pickedListItemText:{textDecoration:"line-through",flexGrow:"unset",marginRight:e.spacing(1)},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},addButton:{position:"sticky",marginTop:e.spacing(-3),left:"50%",right:"50%",bottom:e.spacing(2),transform:"translateX(-50%)"},listItemText:{flexGrow:"unset",marginRight:e.spacing(1)},container:{height:"100%",position:"relative",top:0,paddingTop:e.spacing(10)},listHeader:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(2)}})})),ct=function(e){var t=ot(),a=Ge(),o=a.listData,c=a.items,l=a.categories,r=a.itemAddDialogValue,s=a.itemAddModalOpen,d=a.itemAutocompleteValue,u=a.listItems,m=a.pickedList,g=a.finishModalOpen,j=a.itemSearchOpen,h=a.finishedRedirect,O=a.addItemTolist,p=a.handleFinishModalClose,f=a.handleAddItemModalClose,x=a.openItemSearch,C=a.dialogNameChange,I=a.dialogCategoryChange,y=a.itemCheckUndo,B=a.getOptionLabel,V=a.itemCheckClicked,N=a.getList,D=a.itemAutoCompleteValueChange,T=a.filterOptions,E=a.listPickingFinished;Object(n.useEffect)((function(){N(e.match.params.listId)}),[e.match.params.listId]);var z=u.map((function(e){return Object(w.jsxs)(A.a,{className:t.listItem,divider:!0,children:[Object(w.jsx)(L.a,{primary:e.name,className:t.listItemText}),e.list_item.comment?Object(w.jsx)(fe.a,{label:e.list_item.comment,size:"small"}):null,Object(w.jsx)(ce.a,{children:Object(w.jsx)(S.a,{edge:"end",size:"small",color:"secondary",onClick:function(){return V(e.id)},children:Object(w.jsx)(Ze.a,{})})})]},e.id)})),M=m.map((function(e){return Object(w.jsxs)(A.a,{divider:!0,children:[Object(w.jsx)(L.a,{primary:e.name,className:t.pickedListItemText}),e.list_item.comment?Object(w.jsx)(fe.a,{label:e.list_item.comment,size:"small"}):null,Object(w.jsx)(ce.a,{children:Object(w.jsx)(S.a,{edge:"end",size:"small",color:"inherit",onClick:function(){return y(e.id)},children:Object(w.jsx)(at.a,{})})})]},e.id)}));return Object(w.jsxs)(i.a.Fragment,{children:[h?Object(w.jsx)(b.a,{to:"/createlist"}):null,Object(w.jsxs)(X.a,{component:"div",maxWidth:"sm",className:t.container,children:[Object(w.jsx)("h1",{className:t.hiddenTitle,children:"Shopping page - ".concat(o.name)}),Object(w.jsxs)(re.a,{className:t.listPaper,elevation:3,component:"article",children:[Object(w.jsxs)("header",{className:t.listHeader,children:[Object(w.jsx)(v.a,{variant:"h4",component:"h1",className:t.articleTitle,color:"primary",align:"center",children:o.name}),Object(w.jsx)(S.a,{edge:"end",color:"inherit",onClick:function(){return e.history.push("/mylists/edit/"+e.match.params.listId)},children:Object(w.jsx)(Je.a,{})})]}),Object(w.jsx)(k.a,{children:z}),Object(w.jsx)(k.a,{className:t.pickedList,children:M.reverse()})]})]}),Object(w.jsx)(Ke,{open:g,handleClose:p,handleFinished:E}),Object(w.jsx)(Xe.a,{color:"secondary","aria-label":"add-items-to-list",className:t.addButton,onClick:x,children:Object(w.jsx)(et.a,{})}),Object(w.jsx)(it,{addItem:O,addUserItem:O,openItemSearch:x,itemSearchOpen:j,handleItemSearchClose:f,itemAutocompleteValue:d,categoryAutocompleteValue:r.category,autoCompleteValueChange:D,filterOptions:T,itemOptions:c,categoryOptions:l,getOptionLabel:B,dialogOpen:s,dialogClose:f,dialogValues:r,dialogNameChange:C,dialogCategoryChange:I})]})},lt=a(239),rt=a(235),st=a(234),dt=Object(B.a)((function(e){return Object(V.a)({itemsList:{},listItem:{marginBottom:"0.5rem"},iconButtons:{marginLeft:e.spacing(2)},addButton:{position:"fixed",left:"50%",right:"50%",bottom:e.spacing(2),transform:"translateX(-50%)"},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},tabPlaceholder:{marginTop:e.spacing(3)}})})),ut=function(e){var t=dt();return Object(w.jsx)("section",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:e.value!==e.index,id:"".concat(e.name," Tab"),"aria-labelledby":e.name},e.other),{},{children:e.value===e.index&&Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)("h2",{className:t.hiddenTitle,children:e.name}),e.content.length>0?null:Object(w.jsx)(v.a,{variant:"h5",component:"p",color:"primary",className:t.tabPlaceholder,children:"You have not saved any ".concat(e.name," yet.")}),Object(w.jsx)(k.a,{className:t.itemsList,children:e.content.map((function(a){return Object(w.jsxs)(A.a,{className:t.listItem,divider:!0,children:[Object(w.jsx)(L.a,{primary:a.name}),Object(w.jsxs)(be.a,{id:"item-actions-menu",anchorEl:e.menuAnchorEl,keepMounted:!0,open:Boolean(e.menuAnchorEl),onClose:e.closeDotsMenu,TransitionComponent:xe.a,children:[Object(w.jsx)(he.a,{onClick:e.editElement,children:"Edit"}),Object(w.jsx)(he.a,{onClick:function(){return e.deleteButtonPressed(a)},children:"Delete"})]}),Object(w.jsx)(ce.a,{children:Object(w.jsx)(S.a,{"aria-controls":"item-actions-menu","aria-haspopup":"true",edge:"end",size:"small",color:"inherit",onClick:function(t){return e.handleDotsClick(t,a)},children:Object(w.jsx)(pe.a,{})})})]},a.id)}))}),Object(w.jsxs)(te.a,{open:e.deleteModalOpen,onClose:e.deleteModalClose,children:[Object(w.jsx)(ae.a,{id:"confirm-delete",children:"Delete item?"}),Object(w.jsx)(ne.a,{children:Object(w.jsx)(st.a,{children:"Are you sure you want to delete ".concat(e.isItem?"item ":"category "," - ").concat(e.elementToDelete?e.elementToDelete.name:null," ?")})}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{color:"primary",onClick:e.deleteModalClose,children:"Cancel"}),Object(w.jsx)(f.a,{color:"primary",onClick:function(){return e.deleteElement(e.isItem)},children:"Yes"})]})]}),Object(w.jsx)(Xe.a,{color:"secondary","aria-label":"add-".concat(e.isItem?"item":"category"),className:t.addButton,onClick:function(){return e.addButtonPressed(e.isItem)},children:Object(w.jsx)(et.a,{})})]})}))},mt=Object(B.a)((function(e){return Object(V.a)({})})),gt=function(e){mt();return Object(w.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"add-item-dialog-name",children:Object(w.jsxs)("form",{onSubmit:e.confirmEdit,children:[Object(w.jsx)(ae.a,{id:"add-item-dialog-name",children:"add"===e.addOrEdit?"Add Item":"Edit item"}),Object(w.jsxs)(ne.a,{children:[Object(w.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValues.name,onChange:e.itemNameChange,label:"name",type:"text",variant:"outlined"}),Object(w.jsx)(J.a,{value:e.categoryAutocompleteValue,onChange:e.dialogCategoryChange,filterOptions:e.filterOptions,id:"category-autocomplete",options:e.categoryOptions,getOptionLabel:e.getOptionLabel,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(w.jsx)(Y.a,Object(h.a)(Object(h.a)({},e),{},{label:"category",margin:"dense",variant:"outlined"}))}})]}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"primary",children:"Save"})]})]})})},jt=Object(B.a)((function(e){return Object(V.a)({})})),bt=function(e){jt();return Object(w.jsx)(te.a,{open:e.dialogOpen,onClose:e.dialogClose,"aria-labelledby":"edit-category-dialog",children:Object(w.jsxs)("form",{onSubmit:e.confirmEdit,children:[Object(w.jsx)(ae.a,{id:"edit-category-dialog",children:"add"===e.addOrEdit?"Add Item":"Edit Item"}),Object(w.jsx)(ne.a,{children:Object(w.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",value:e.dialogValue,onChange:e.nameChange,label:"name",type:"text",variant:"outlined"})}),Object(w.jsxs)(ie.a,{children:[Object(w.jsx)(f.a,{onClick:e.dialogClose,color:"primary",children:"Cancel"}),Object(w.jsx)(f.a,{type:"submit",color:"primary",children:"Save"})]})]})})},ht=function(){var e=Object(n.useState)(0),t=Object(O.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)([]),c=Object(O.a)(o,2),l=c[0],r=c[1],s=Object(n.useState)("add"),d=Object(O.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)([]),j=Object(O.a)(g,2),b=j[0],p=j[1],f=Object(n.useState)({name:"",category:{}}),x=Object(O.a)(f,2),C=x[0],v=x[1],I=Object(n.useState)(""),y=Object(O.a)(I,2),S=y[0],k=y[1],A=Object(n.useState)(!1),L=Object(O.a)(A,2),B=L[0],V=L[1],w=Object(n.useState)(!1),N=Object(O.a)(w,2),D=N[0],T=N[1],E=Object(n.useState)(null),z=Object(O.a)(E,2),M=z[0],F=z[1],P=Object(n.useState)(null),R=Object(O.a)(P,2),U=R[0],W=R[1],_=Object(n.useState)(null),q=Object(O.a)(_,2),K=q[0],X=q[1],Y=Object(n.useState)(!1),J=Object(O.a)(Y,2),Q=J[0],Z=J[1],$=Object(n.useState)(null),ee=Object(O.a)($,2),te=ee[0],ae=ee[1],ne=Object(H.a)();Object(n.useEffect)((function(){ie(localStorage.getItem("userId")),oe(localStorage.getItem("userId"))}),[localStorage.getItem("userId")]);var ie=function(e){G.get("/items/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){r(e.data)}))},oe=function(e){G.get("/categories/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){p(e.data)})).catch((function(e){console.log(e)}))},ce=function(){v({name:"",category:""}),F(null),V(!1)},le=function(){k(""),W(null),T(!1)},re=function(){Z(!1),X(null)};return{items:l,categories:b,elementToDelete:K,menuAnchorEl:te,addOrEdit:u,tabValue:a,editItemDialogValue:C,editCategoryDialogValue:S,editItemModalOpen:B,editCategoryModalOpen:D,deleteModalOpen:Q,handleItemEditModalClose:ce,handleCategoryEditModalClose:le,handleDeleteModalClose:re,closeDotsMenu:function(){ae(null)},addButtonPressed:function(e){W(null),m("add"),F(null),e?V(!0):T(!0)},deleteButtonPressed:function(e){Z(!0),X(e),ae(null)},editItemButtonPressed:function(){m("edit");var e=b.find((function(e){return e.id===M.userCategoryId}));v({name:M.name,category:e}),V(!0),ae(null)},editCategoryButtonPressed:function(){m("edit"),k(U.name),T(!0),ae(null)},handleTabChange:function(e,t){i(t)},handleDotsClick:function(e,t){ae(e.currentTarget),0===a?F(t):W(t)},editDialogNameChange:function(e){v(Object(h.a)(Object(h.a)({},C),{},{name:e.target.value}))},editItemDialogCategoryChange:function(e,t){"string"===typeof t?(V(!0),v(Object(h.a)(Object(h.a)({},C),{},{category:t}))):t&&t.inputValue?v(Object(h.a)(Object(h.a)({},C),{},{category:t.inputValue})):v(Object(h.a)(Object(h.a)({},C),{},{category:t}))},editCategoryNameChange:function(e){k(e.target.value)},filterAutocompleteOptions:function(e,t){var a=ne(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),a},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},saveItemEdit:function(e){e.preventDefault(),M?G.put("/items/"+M.id,{userId:localStorage.getItem("userId"),newName:C.name,category:C.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){ie(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})):G.post("/items/"+localStorage.getItem("userId"),{name:C.name,category:C.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){ie(localStorage.getItem("userId")),oe(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})),ce()},saveCategoryEdit:function(e){e.preventDefault(),U?G.put("/categories/"+U.id+"?userId="+localStorage.getItem("userId"),{newCategoryName:S},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){oe(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})):G.post("/categories/"+localStorage.getItem("userId"),{name:S},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){oe(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})),le()},deleteElement:function(e){var t=e?"/items/":"/categories/";G.delete(t+K.id+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e?ie(localStorage.getItem("userId")):oe(localStorage.getItem("userId"))})).catch((function(e){console.log(e)})),re()}}},Ot=Object(B.a)((function(e){return Object(V.a)({container:{},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},tabs:{marginTop:70}})})),pt=function(){var e=Ot(),t=ht(),a=t.items,n=t.categories,i=t.tabValue,o=t.menuAnchorEl,c=t.editItemModalOpen,l=t.editCategoryModalOpen,r=t.deleteModalOpen,s=t.elementToDelete,d=t.editItemDialogValue,u=t.editCategoryDialogValue,m=t.addOrEdit,g=t.addButtonPressed,j=t.deleteButtonPressed,b=t.saveItemEdit,h=t.saveCategoryEdit,O=t.editDialogNameChange,p=t.editItemDialogCategoryChange,f=t.editCategoryNameChange,x=t.filterAutocompleteOptions,C=t.getOptionLabel,v=t.editItemButtonPressed,I=t.editCategoryButtonPressed,y=t.handleItemEditModalClose,S=t.handleCategoryEditModalClose,k=t.handleDeleteModalClose,A=t.handleTabChange,L=t.deleteElement,B=t.handleDotsClick,V=t.closeDotsMenu;return Object(w.jsxs)(X.a,{component:"article",maxWidth:"sm",className:e.container,children:[Object(w.jsx)("h1",{className:e.hiddenTitle,children:"Edit items and categories"}),Object(w.jsxs)(lt.a,{value:i,variant:"fullWidth","aria-label":"user-items-navigation-tabs",className:e.tabs,onChange:A,children:[Object(w.jsx)(rt.a,{label:"Items"}),Object(w.jsx)(rt.a,{label:"Categories"}),Object(w.jsx)(rt.a,{label:"Recipes",disabled:!0})]}),Object(w.jsx)(ut,{value:i,name:"Items",index:0,isItem:!0,content:a,menuAnchorEl:o,handleDotsClick:B,closeDotsMenu:V,deleteElement:L,editElement:v,addButtonPressed:g,deleteButtonPressed:j,deleteModalOpen:r,elementToDelete:s,deleteModalClose:k}),Object(w.jsx)(ut,{value:i,name:"Categories",index:1,isItem:!1,content:n,menuAnchorEl:o,handleDotsClick:B,closeDotsMenu:V,deleteElement:L,editElement:I,addButtonPressed:g,deleteButtonPressed:j,deleteModalOpen:r,elementToDelete:s,deleteModalClose:k}),Object(w.jsx)(gt,{dialogOpen:c,dialogClose:y,confirmEdit:b,dialogValues:d,itemNameChange:O,categoryAutocompleteValue:d.category,dialogCategoryChange:p,filterOptions:x,categoryOptions:n,getOptionLabel:C,addOrEdit:m}),Object(w.jsx)(bt,{addOrEdit:m,dialogOpen:l,dialogClose:S,dialogValue:u,confirmEdit:h,nameChange:f})]})},ft=function(){var e=Object(H.a)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)({}),l=Object(O.a)(c,2),r=l[0],s=l[1],d=Object(n.useState)({name:!1,items:!1}),u=Object(O.a)(d,2),m=u[0],g=u[1],j=Object(n.useState)([]),b=Object(O.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)([]),C=Object(O.a)(x,2),v=C[0],I=C[1],y=Object(n.useState)(!1),S=Object(O.a)(y,2),k=S[0],A=S[1],L=Object(n.useState)(!1),B=Object(O.a)(L,2),V=B[0],w=B[1],N=Object(n.useState)(null),D=Object(O.a)(N,2),T=D[0],E=D[1],z=Object(n.useState)({name:"",category:""}),M=Object(O.a)(z,2),F=M[0],P=M[1],R=Object(n.useState)(null),U=Object(O.a)(R,2),W=U[0],_=U[1],q=Object(n.useState)(!1),K=Object(O.a)(q,2),X=K[0],Y=K[1],J=Object(n.useState)(""),Q=Object(O.a)(J,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(null),ae=Object(O.a)(te,2),ne=ae[0],ie=ae[1],oe=Object(n.useState)(!1),ce=Object(O.a)(oe,2),le=ce[0],re=ce[1],se=Object(n.useCallback)((function(e){G.get("/list/listdetails/"+e+"?userId="+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o(Object(h.a)(Object(h.a)({},e.data),{},{items:e.data.user_items})),s(Object(h.a)(Object(h.a)({},e.data),{},{items:e.data.user_items}))})).catch((function(e){console.log(e)}))}),[]),de=function(){G.get("/items/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){f(e.data)})).catch((function(e){console.log(e)}))},ue=function(){G.get("categories/"+localStorage.getItem("userId"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){I(e.data)})).catch((function(e){console.log(e)}))},me=function(){P({name:"",category:""}),w(!1),A(!1),E(null)},ge=function(){G.put("/list/"+i.id,{userId:localStorage.getItem("userId"),newName:r.name},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},je=function(){Y(!1),ie(null),_(null),ee("")},be=function(){_(null)};return{items:p,categories:v,list:i,changedList:r,itemSearchOpen:k,itemAddModalOpen:V,itemAutocompleteValue:T,itemAddDialogValue:F,menuAnchorEl:W,commentDialogOpen:X,commentDialogValue:Z,alertOpen:le,handleAlertClose:function(e,t){"clickaway"!==t&&re(!1)},addCommentButtonClicked:function(){Y(!0)},handleCommentDialogValueChange:function(e){ee(e.target.value)},handleCommentDialogClose:je,deleteItemComment:function(e){var t,a=null===(t=r.items)||void 0===t?void 0:t.map((function(t){return t.id!==e?t:Object(h.a)(Object(h.a)({},t),{},{list_item:Object(h.a)(Object(h.a)({},t.list_item),{},{comment:null})})})),n=Object(h.a)(Object(h.a)({},r),{},{items:a});s(n),g(Object(h.a)(Object(h.a)({},m),{},{items:!0})),je()},saveItemComment:function(e){var t;e.preventDefault();var a=null===(t=r.items)||void 0===t?void 0:t.map((function(e){return e.id!==ne?e:Object(h.a)(Object(h.a)({},e),{},{list_item:Object(h.a)(Object(h.a)({},e.list_item),{},{comment:Z})})})),n=Object(h.a)(Object(h.a)({},r),{},{items:a});s(n),g(Object(h.a)(Object(h.a)({},m),{},{items:!0})),je()},handleDotsClick:function(e,t){_(e.currentTarget),ie(t)},closeDotsMenu:be,getList:se,saveList:function(){(m.items||m.name)&&(m.name&&ge(),m.items&&G.put("/list/update",{list:r},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){})).catch((function(e){console.log(e)})))},openItemSearch:function(e){de(),ue(),A(!0)},itemAutocompleteValueChange:function(e,t){"string"===typeof t?setTimeout((function(){w(!0),P({name:t,category:""})})):t&&t.inputValue?(w(!0),P({id:t.id,name:t.inputValue,category:""})):P({id:t.id,name:t.name,category:""})},handleAddItemModalClose:me,dialogCategoryChange:function(e,t){"string"===typeof t?(w(!0),P(Object(h.a)(Object(h.a)({},F),{},{category:t}))):t&&t.inputValue?P(Object(h.a)(Object(h.a)({},F),{},{category:t.inputValue})):P(Object(h.a)(Object(h.a)({},F),{},{category:t}))},dialogNameChange:function(e){P(Object(h.a)(Object(h.a)({},F),{},{name:e.target.value}))},listNameChange:function(e){s(Object(h.a)(Object(h.a)({},r),{},{name:e.target.value})),g(Object(h.a)(Object(h.a)({},m),{},{name:!0}))},filterOptions:function(t,a){var n=e(t,a);return""!==a.inputValue&&n.push({inputValue:a.inputValue,name:'Add "'.concat(a.inputValue,'"')}),n},getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name},addItemToList:function(e){var t;e.preventDefault();var a=!1;if(null===(t=r.items)||void 0===t||t.forEach((function(e){if(F.id===e.id)return re(!0),me(),void(a=!0)})),!a){var n=Object(h.a)(Object(h.a)({},r),{},{items:[].concat(Object($.a)(r.items),[{name:F.name,id:F.id,list_item:null}])});s(n),g(Object(h.a)(Object(h.a)({},m),{},{items:!0})),me()}},removeListItem:function(){var e,t=null===(e=r.items)||void 0===e?void 0:e.filter((function(e){return e.id!==ne}));s(Object(h.a)(Object(h.a)({},r),{},{items:t})),be(),g(Object(h.a)(Object(h.a)({},m),{},{items:!0}))},addUserItem:function(e){e.preventDefault(),G.post("/items/"+localStorage.getItem("userId"),{itemId:null===T||void 0===T?void 0:T.id,name:F.name,category:F.category},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=Object(h.a)(Object(h.a)({},r),{},{items:[].concat(Object($.a)(r.items),[{name:F.name,id:e.data.id,list_item:null}])});s(t),g(Object(h.a)(Object(h.a)({},m),{},{items:!0})),me(),de(),ue()})).catch((function(e){console.log(e)}))}}},xt=a(126),Ct=a.n(xt),vt=Object(B.a)((function(e){return Object(V.a)({listNameInput:{width:"80%",left:"10%",right:"10%",marginTop:"100px",marginLeft:0,marginRight:0,marginBottom:30},hiddenTitle:{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},listItem:{flexGrow:1,marginBottom:e.spacing(1)},addButton:{position:"sticky",marginTop:e.spacing(3),left:"50%",right:"50%",bottom:e.spacing(2),transform:"translateX(-50%)"},saveButton:{left:"50%",right:"50%",transform:"translateX(-50%)"},alert:{marginBottom:e.spacing(9)}})})),It=function(e){var t,a=vt(),i=ft(),o=i.items,c=i.categories,l=i.itemSearchOpen,r=i.itemAddModalOpen,s=i.itemAutocompleteValue,d=i.itemAddDialogValue,u=i.menuAnchorEl,m=i.commentDialogOpen,g=i.commentDialogValue,j=i.changedList,b=i.alertOpen,h=i.handleAlertClose,O=i.addCommentButtonClicked,p=i.handleCommentDialogValueChange,x=i.handleCommentDialogClose,C=i.deleteItemComment,v=i.saveItemComment,I=i.handleDotsClick,y=i.closeDotsMenu,S=i.getList,A=i.openItemSearch,L=i.itemAutocompleteValueChange,B=i.handleAddItemModalClose,V=i.dialogCategoryChange,N=i.dialogNameChange,D=i.listNameChange,T=i.filterOptions,E=i.getOptionLabel,z=i.addItemToList,M=i.removeListItem,F=i.saveList,P=i.addUserItem;Object(n.useEffect)((function(){S(e.match.params.listId)}),[e.match.params.listId]);var R=null===(t=j.items)||void 0===t?void 0:t.map((function(e){var t,a;return Object(w.jsx)(ve,{id:e.id,listItemId:null===(t=e.list_item)||void 0===t?void 0:t.id,name:e.name,comment:null===(a=e.list_item)||void 0===a?void 0:a.comment,deleteComment:C,menuAnchorEl:u,closeDotsMenu:y,removeListItem:M,addCommentButtonClicked:O,handleDotsClick:I},e.id)}));return Object(w.jsxs)(X.a,{component:"article",maxWidth:"sm",children:[Object(w.jsx)("h1",{className:a.hiddenTitle,children:"Edit list - ".concat(j.name)}),Object(w.jsx)(Y.a,{id:"list-name",label:"List name",type:"text",value:j.name,onChange:D,className:a.listNameInput,inputProps:{min:0,style:{textAlign:"center"}},InputLabelProps:{shrink:!0}}),Object(w.jsx)(f.a,{type:"button",color:"inherit",variant:"contained",size:"small",className:a.saveButton,startIcon:Object(w.jsx)(Ct.a,{}),onClick:function(){F(),e.history.push("/mylists/use/"+e.match.params.listId)},children:"Save & shop"}),Object(w.jsx)(k.a,{children:R}),Object(w.jsx)(Xe.a,{color:"secondary","aria-label":"add-items-to-list",className:a.addButton,onClick:A,children:Object(w.jsx)(et.a,{})}),Object(w.jsx)(Ne.a,{open:b,autoHideDuration:9e3,onClose:h,className:a.alert,children:Object(w.jsx)(Te,{onClose:h,severity:"error",children:"This item is already in the list"})}),Object(w.jsx)(it,{addItemToList:z,addItem:P,openItemSearch:A,itemSearchOpen:l,handleItemSearchClose:B,itemAutocompleteValue:s,categoryAutocompleteValue:d.category,autoCompleteValueChange:L,filterOptions:T,itemOptions:o,categoryOptions:c,getOptionLabel:E,dialogOpen:r,dialogClose:B,dialogValues:d,dialogNameChange:N,dialogCategoryChange:V}),Object(w.jsx)(ge,{dialogOpen:m,dialogClose:x,saveComment:v,valueChange:p,value:g})]})};a(174);var yt=Object(b.g)((function(){var e=Object(w.jsxs)(b.d,{children:[Object(w.jsx)(b.b,{path:"/login",component:ze}),Object(w.jsx)(b.b,{path:"/register",component:Pe}),Object(w.jsx)(b.b,{path:"/",component:ze}),Object(w.jsx)(b.a,{to:"/"})]});return localStorage.getItem("token")&&(e=Object(w.jsxs)(b.d,{children:[Object(w.jsx)(b.b,{path:"/createlist",component:Be}),Object(w.jsx)(b.b,{path:"/additems",component:Z}),Object(w.jsx)(b.b,{path:"/login",component:ze}),Object(w.jsx)(b.b,{path:"/register",component:Pe}),Object(w.jsx)(b.b,{path:"/useritems",component:pt}),Object(w.jsx)(b.b,{path:"/mylists/use/:listId",component:ct}),Object(w.jsx)(b.b,{path:"/mylists/edit/:listId",component:It}),Object(w.jsx)(b.b,{path:"/mylists",component:_e}),Object(w.jsx)(b.b,{path:"/",component:Be}),Object(w.jsx)(b.a,{to:"/"})]})),Object(w.jsx)(U,{children:e})})),St=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,248)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),o(e),c(e)}))};c.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(r.a,{theme:j,children:Object(w.jsx)(l.a,{children:Object(w.jsx)(P,{children:Object(w.jsx)(yt,{})})})})}),document.getElementById("root")),St()}},[[175,1,2]]]);
//# sourceMappingURL=main.8effb4af.chunk.js.map